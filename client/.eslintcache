[{"/Users/fota/Documents/dapp-react/client/src/index.js":"1","/Users/fota/Documents/dapp-react/client/src/App.js":"2","/Users/fota/Documents/dapp-react/client/src/Login.js":"3","/Users/fota/Documents/dapp-react/client/src/serviceWorker.js":"4","/Users/fota/Documents/dapp-react/client/src/getWeb3.js":"5","/Users/fota/Documents/dapp-react/client/src/First.js":"6","/Users/fota/Documents/dapp-react/client/src/ShowAccounts.js":"7","/Users/fota/Documents/dapp-react/client/src/Transfer.js":"8","/Users/fota/Documents/dapp-react/client/src/CheckAccount.js":"9","/Users/fota/Documents/dapp-react/client/src/LoginFail.js":"10","/Users/fota/Documents/dapp-react/client/src/management_main.js":"11","/Users/fota/Documents/dapp-react/client/src/user_request.js":"12","/Users/fota/Documents/dapp-react/client/src/System.js":"13","/Users/fota/Documents/dapp-react/client/src/Dr_main.js":"14","/Users/fota/Documents/dapp-react/client/src/Th_main.js":"15","/Users/fota/Documents/dapp-react/client/src/Co_main.js":"16","/Users/fota/Documents/dapp-react/client/src/System_apply.js":"17","/Users/fota/Documents/dapp-react/client/src/System_Napply.js":"18","/Users/fota/Documents/dapp-react/client/src/test.js":"19","/Users/fota/Documents/dapp-react/client/src/In_main.js":"20","/Users/fota/Documents/dapp-react/client/src/System_Management.js":"21"},{"size":471,"mtime":1650596204328,"results":"22","hashOfConfig":"23"},{"size":3041,"mtime":1645168506272,"results":"24","hashOfConfig":"23"},{"size":5589,"mtime":1655090515219,"results":"25","hashOfConfig":"23"},{"size":4951,"mtime":1611195851894,"results":"26","hashOfConfig":"23"},{"size":1144,"mtime":1615794636851,"results":"27","hashOfConfig":"23"},{"size":2410,"mtime":1651646841141,"results":"28","hashOfConfig":"23"},{"size":2668,"mtime":1635409504754,"results":"29","hashOfConfig":"23"},{"size":28086,"mtime":1649818039083,"results":"30","hashOfConfig":"23"},{"size":3460,"mtime":1647914595121,"results":"31","hashOfConfig":"23"},{"size":947,"mtime":1646810395842,"results":"32","hashOfConfig":"23"},{"size":22508,"mtime":1651648786768,"results":"33","hashOfConfig":"23"},{"size":9787,"mtime":1651649989199,"results":"34","hashOfConfig":"23"},{"size":4288,"mtime":1647914574628,"results":"35","hashOfConfig":"23"},{"size":25498,"mtime":1656489418692,"results":"36","hashOfConfig":"23"},{"size":25498,"mtime":1657694690251,"results":"37","hashOfConfig":"23"},{"size":22378,"mtime":1651818411732,"results":"38","hashOfConfig":"23"},{"size":5677,"mtime":1646106118883,"results":"39","hashOfConfig":"23"},{"size":4046,"mtime":1647915247935,"results":"40","hashOfConfig":"23"},{"size":2560,"mtime":1657695013400,"results":"41","hashOfConfig":"23"},{"size":25474,"mtime":1655869027507,"results":"42","hashOfConfig":"23"},{"size":5341,"mtime":1651647481962,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"1da32wr",{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"46"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"46"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":23,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"46"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":18,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"46"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"46"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":26,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"46"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":26,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"46"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":18,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"46"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"46"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"46"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":26,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"46"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"46"},"/Users/fota/Documents/dapp-react/client/src/index.js",[],["102","103"],"/Users/fota/Documents/dapp-react/client/src/App.js",["104"],"import React, { Component } from \"react\";\nimport SimpleStorageContract from \"./contracts/SimpleStorage.json\";\nimport PayableContract from \"./contracts/Payable.json\";\nimport getWeb3 from \"./getWeb3\";\nimport { createBrowserHistory } from 'history';\n\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n      storageValue: 0, \n      web3: null, \n      accounts: null, \n      contract: null \n    };\n\n  componentDidMount = async () => {\n    try {\n      // Get netw`ork provider and web3 instance.\n      const web3 = await getWeb3();\n\n      // Use web3 to get the user's accounts.\n      const accounts = await web3.eth.getAccounts();\n\n      // Get the contract instance.\n      const networkId = await web3.eth.net.getId();\n      // const deployedNetwork = SimpleStorageContract.networks[networkId];\n      const deployedNetwork = PayableContract.networks[networkId];\n      const instance = new web3.eth.Contract(\n        PayableContract.abi,\n        // SimpleStorageContract.abi,\n        deployedNetwork && deployedNetwork.address,\n      );\n\n      // Set web3, accounts, and contract to the state, and then proceed with an\n      // example of interacting with the contract's methods.\n      this.setState({ web3, accounts, contract: instance }, this.runExample);\n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      alert(\n        `Failed to load web3, accounts, or contract. Check console for details.`,\n      );\n      console.error(error);\n    }\n  };\n\n  runExample = async () => {\n    const { accounts, contract } = this.state;\n\n    // // Stores a given value, 5 by default.\n    // await contract.methods.set(15).send({ from: accounts[0] });\n\n    // // Get the value from the contract to prove it worked.\n    // const response = await contract.methods.get().call();\n\n    // // Update state with the result.\n    // this.setState({ storageValue: response });\n\n    await contract.methods.payme().send({ value:1000000000000000000,from: accounts[0] });\n    const response = await contract.methods.getamount().call();\n    this.setState({ storageValue: response });\n  };\n\n  back=()=>{\n    const history = createBrowserHistory();\n\n    history.push(\"/Dr_main\");\n    window.location.reload();\n    \n  };\n\n  render() {\n    if (!this.state.web3) {\n      return <div>Loading Web3, accounts, and contract...</div>;\n    }\n    return (\n      <div className=\"App\">\n        <h1>Good to Go!</h1>\n        <p>Your Truffle Box is installed and ready.</p>\n        <h2>Smart Contract Example</h2>\n        <p>\n          If your contracts compiled and migrated successfully, below will show\n          a stored value of 5 (by default).\n        </p>\n        <p>\n          Try changing the value stored on <strong>line 40</strong> of App.js.\n        </p>\n        <div>The stored value is: {this.state.storageValue}</div>\n        \n        <form>\n            <label>\n                <input type=\"button\" value=\"返回\" onClickCapture={this.back} />\n            </label>\n        </form>\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n","/Users/fota/Documents/dapp-react/client/src/Login.js",["105","106","107","108","109","110","111","112","113","114"],"import React, { Component } from 'react';\nimport {Redirect,Router,Route} from \"react-router-dom\";\nimport { createBrowserHistory, createHashHistory } from 'history';\nimport \"./Login.css\";\nimport image from './image/e.png';\n\nimport { TailSpin } from  'react-loader-spinner';\n\n\nclass Login extends Component{\n    constructor(props) {\n        super(props);\n        this.state={\n            id:\"\",\n            password:\"\",\n            direction_main: 0,\n            show_loading: false\n        }\n    }\n\n    componentDidMount=()=>{ \n        // fetch('./Transaction', {\n        //     method: \"POST\",\n        //     body: JSON.stringify({\n        //         account_from: 'account0',\n        //         account_to: 'account1',\n        //         coin: 0\n        //     }),\n        //     headers: {\n        //         'Content-Type': 'application/json; charset=utf-8'\n        //     }\n        //   })\n        //   .then(res => res.json())\n        //   .then(res => {\n        //     console.log(res.hash)\n        //   })\n        //   .catch(err => console.log(err))\n    }\n\n    CheckLogin=()=>{    \n        fetch('/CheckLogin', {\n            method: \"POST\",\n            body: JSON.stringify({\n              id: this.state.id,\n              password: this.state.password\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n              'Content-Type': 'application/json; charset=utf-8'\n            }\n          })\n            .then(res => res.text())\n            .then(res => {\n                console.log(res);\n                this.setState({direction_main:res});\n            })\n            .catch(err => console.log(err))\n\n        this.setState({show_loading:true});\n    }\n\n    KeyEnter=(event)=>{\n        if (event.keyCode === 13){\n            this.CheckLogin();\n        }\n    }\n\n    //傳入event要取觸發事件的元件\n    changeStateId=(event)=>{\n        this.setState({id:event.target.value})\n    }\n    changeStatePassword=(event)=>{\n        this.setState({password:event.target.value})\n    }\n\n    render(){\n        if(this.state.show_loading){\n            const history = createBrowserHistory();\n\n            setTimeout(() => {\n                if (this.state.direction_main == 0)\n                {\n                    history.push(\"/Management_main\");\n                    window.location.reload();\n                }\n                else if (this.state.direction_main == 1)\n                {\n                    history.push(\"/Dr_main\");\n                    window.location.reload();\n                }\n                else if (this.state.direction_main == 2){\n                    history.push(\"/In_main\");\n                    window.location.reload();\n                }\n                else if (this.state.direction_main == 3){\n                    history.push(\"/Th_main\");\n                    window.location.reload();\n                }\n                else if (this.state.direction_main == 4){\n                    history.push(\"/Co_main\");\n                    window.location.reload();\n                }\n                else if (this.state.direction_main == \"Management\"){\n                    history.push(\"/management_main\");\n                    window.location.reload();\n                }\n                else{\n                    history.push(\"/LoginFail\");\n                    window.location.reload();\n                }\n            }, 3000);\n            \n            return(\n                <div class=\"Login\">\n                <form class=\"form\">\n                    <img src={image} alt=\"Background\" width=\"300\"/>\n                    <br />\n                    \n                    <label>\n                        <TailSpin\n                            height=\"100\"\n                            width=\"100\"\n                            color='orange'\n                            ariaLabel='loading'\n                        />\n                    </label>\n                </form>\n                </div>\n            );\n        }\n        else{\n            return(\n                <div class=\"Login\">\n                    <form class=\"form\">\n                        <img src={image} alt=\"Background\" width=\"300\"/>\n                        <br />\n                        <label>\n                            <input \n                            type=\"text\"\n                            class=\"form--input\"\n                            placeholder=\"帳號\" \n                            id=\"id\" \n                            name=\"id\"\n                            size=\"40\"\n                            onChange={this.changeStateId} />\n                        <br />\n                        </label>\n                        <label>\n                            <input \n                            type=\"password\" \n                            class=\"form--input\"\n                            placeholder=\"密碼\" \n                            id=\"password\" \n                            name=\"password\" \n                            value={this.state.password} \n                            onKeyDown={this.KeyEnter} \n                            onChange={this.changeStatePassword} />\n                        <br />\n                        </label>\n\n                        <label>\n                            <input type=\"button\" class=\"form--btn\" value=\"登入\" onClickCapture={this.CheckLogin} />\n                        </label>\n                    </form>\n                </div>\n            );\n        }\n    }\n}\nexport default Login;","/Users/fota/Documents/dapp-react/client/src/serviceWorker.js",[],"/Users/fota/Documents/dapp-react/client/src/getWeb3.js",[],"/Users/fota/Documents/dapp-react/client/src/First.js",[],"/Users/fota/Documents/dapp-react/client/src/ShowAccounts.js",[],"/Users/fota/Documents/dapp-react/client/src/Transfer.js",["115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137"],"import React, { Component } from 'react';\nimport Web3 from 'web3';\nimport { createBrowserHistory, createHashHistory } from 'history';\nimport \"./Transfer.css\";\nimport Modal from 'react-modal';\n\nimport ReactApexChart from \"react-apexcharts\";\n\nclass Transfer extends Component{\n    constructor(props) {\n        super(props);\n        this.state={\n            account_name: '',\n            account_from: '',\n            account_to: '',\n            balance: '',\n            coin: 0,\n            permission: 0,\n            older_data: [[]],\n            showModal: false,\n            showModal2: false,\n            older_measurement: [[],[],[],[],[],[],[],[]],\n            older_id: \"\",\n            year: [[]],\n            month: [[]],\n            b1: [],\n            order: \"\",\n            medicine: \"\",\n            hash: \"\",\n            flag:0 ,\n            order_detail: [[],[],[],[],[]],\n            date: new Date()\n        }\n        this.OpenModal = this.OpenModal.bind(this);\n        this.OpenModal2 = this.OpenModal2.bind(this);\n        this.CloseModal = this.CloseModal.bind(this);\n        this.CloseModal2 = this.CloseModal2.bind(this);\n    }\n    \n\n    componentDidMount=()=>{\n        this.loading();\n        this.timerID = setInterval(() => this.tick(),1000);\n    }\n\n    componentWillMount() {\n        clearInterval(this.timerID);\n    }\n    \n    tick() {        \n    }\n\n    async loading() {\n        fetch('/LoginState', {\n            method: \"POST\",\n            body: JSON.stringify({\n                flag: 3\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n              'Content-Type': 'application/json; charset=utf-8'\n            }\n          })\n            .then(res => res.json())\n            .then(res => {\n                this.setState({account_name:res.name});\n                this.setState({account_from:res.account});\n                this.setState({permission:res.permission});\n                \n                if (res.flag == 0){\n                    alert(\"您尚未正確登入 將導引至登入畫面\");\n                    const history = createBrowserHistory();\n                    history.push(\"/\");\n                    window.location.reload();\n                }\n                else if (res.check == 0){\n                    const history = createBrowserHistory();\n                    alert(\"您沒有權限讀取\");\n                    console.log(this.state.permission);\n                    if (this.state.permission == 1)\n                    {\n                        history.push(\"/Dr_main\");\n                        window.location.reload();\n                    }\n                    else if (this.state.permission == 2){\n                        history.push(\"/In_main\");\n                        window.location.reload();\n                    }\n                    else if (this.state.permission == 3){\n                        history.push(\"/Th_main\");\n                        window.location.reload();\n                    }\n                    else if (this.state.permission == 4){\n                        history.push(\"/Co_main\");\n                        window.location.reload();\n                    }\n                }\n\n                // 如果正確進入 讀取住民資料\n                fetch('/Get_Older_Data', {\n                    method: \"POST\",\n                    body: JSON.stringify({\n                    }),\n                    // headers: new Headers({\n                    //     'Content-Type': 'application/json',\n                    //     // 'Authorization': token, /* 把token放在這 */\n                    // })\n                    headers: {\n                      'Content-Type': 'application/json; charset=utf-8'\n                    }\n                  })\n                    .then(res => res.json())\n                    .then(res => {\n                        this.setState({older_data:res.older_data});\n                    })\n                    .catch(err => console.log(err))\n\n            })\n            .catch(err => console.log(err))\n    }\n\n    // KeyEnter=(event)=>{\n    //     if (event.keyCode === 13){\n    //         this.send();\n    //     }\n    // }\n\n    //返回\n    Back=()=>{\n        const history = createBrowserHistory();\n\n        if (this.state.permission == 1)\n        {\n            history.push(\"/Dr_main\");\n            window.location.reload();\n        }\n        else if (this.state.permission == 2){\n            history.push(\"/In_main\");\n            window.location.reload();\n        }\n        else if (this.state.permission == 3){\n            history.push(\"/Th_main\");\n            window.location.reload();\n        }\n        else if (this.state.permission == 4){\n            history.push(\"/Co_main\");\n            window.location.reload();\n        }\n    }\n\n    Send=()=>{\n      fetch('./Save_Order', {\n        method: \"POST\",\n        body: JSON.stringify({\n            hash: this.state.hash,\n            leader: this.state.account_name,\n            older_id: this.state.older_id,\n            order: this.state.order,\n            medicine: this.state.medicine\n        }),\n        headers: {\n            'Content-Type': 'application/json; charset=utf-8'\n        }\n      })\n      .then(res => res.json())\n      .then(res => {\n        if (res.text == \"OK\"){\n          this.setState({flag:res.flag});\n          alert(\"已完成紀錄\");\n          // const history = createBrowserHistory();\n          // history.push(\"/Transfer\");\n          // window.location.reload();\n        }\n      })\n      .catch(err => console.log(err))\n      // console.log(this.state.older_id);\n\n      this.setState({order:\"\"})\n      this.setState({medicine:\"\"})\n    }\n\n    //查看住民資訊\n    OpenModal (event) {\n        this.setState({ showModal: true });\n        this.setState({ older_id: event.target.id });\n\n        fetch('./Get_Older_Measurement_Date', {\n            method: \"POST\",\n            body: JSON.stringify({\n                user_name: this.state.account_name,\n                older_id: event.target.id\n            }),\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n        .then(res => res.json())\n        .then(res => {\n            this.setState({order_detail:res.order_detail});\n            this.setState({year:res.year});\n            this.setState({month:res.month});\n        })\n        .catch(err => console.log(err))\n    }\n\n    OpenModal2 (event) {\n        this.setState({ showModal: false });\n        this.setState({ showModal2: true });\n        fetch('./Get_Older_Measurement', {\n            method: \"POST\",\n            body: JSON.stringify({\n                older_id: this.state.older_id,\n                date: event.target.id\n            }),\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n        .then(res => res.json())\n        .then(res => {\n            this.setState({older_measurement: res.detail});\n        })\n        .catch(err => console.log(err))\n\n        if (this.state.flag == 0){\n            fetch('./Transaction', {\n                method: \"POST\",\n                body: JSON.stringify({\n                    account_from: this.state.account_from,\n                    account_to: 'account1',\n                    coin: 0\n                }),\n                headers: {\n                    'Content-Type': 'application/json; charset=utf-8'\n                }\n            })\n            .then(res => res.json())\n            .then(res => {\n              this.setState({hash:res.hash});\n              this.setState({flag:res.flag});\n            })\n            .catch(err => console.log(err))\n        }\n    }\n\n    CloseModal () {\n        this.setState({ showModal: false });\n    }\n\n    CloseModal2 () {\n        this.setState({ showModal2: false });\n    }\n\n    //傳入event要取觸發事件的元件\n    order=(event)=>{\n      this.setState({order:event.target.value})\n    }\n    medicine=(event)=>{\n        this.setState({medicine:event.target.value})\n    }\n    \n\n    render(){\n        //住民按鈕\n        const a1 = [];\n        const chart_date = [];\n        const chart_b_date = [];\n        const chart_a_date = [];\n        const chart_value = [[],[],[],[],[],[]];\n        //住民量測紀錄 年-月\n        const b1 = [];\n        const char_list = [];\n        //處方內文textarea\n        const prescription = [];\n        //過往紀錄\n        const past_record = [[]];\n\n\n        a1.push(<button class=\"button_transfer_x\"></button>);\n        a1.push(<br />);\n\n        for (let i=0;i<this.state.older_data[0].length;i++){\n            if (i == 5){\n                a1.push(\n                    <br />\n                );\n            }\n            a1.push(\n                <button class=\"button_older_data\" id={this.state.older_data[0][i]} onClickCapture={this.OpenModal} >\n                    {this.state.older_data[0][i]}<br />\n                    {this.state.older_data[1][i]}<br />\n                    {this.state.older_data[2][i]}<br />\n                    {\"年齡：\"+this.state.older_data[3][i]}<br />\n                    {\"身高：\"+this.state.older_data[4][i]}<br />\n                    {\"體重：\"+this.state.older_data[5][i]}<br />\n                    {this.state.older_data[6][i]}\n                </button>\n            );\n        }\n\n        \n        if (this.state.month.length != 0  && this.state.year.length != 0){\n            //older_year\n            for (let i=0;i<this.state.year.length;i++){\n                b1.push(\n                    <font class=\"transfer_text\">\n                        {this.state.year[i]}\n                    </font>\n                );\n                b1.push(\n                    <br />\n                );\n    \n                //older_year_month\n                for (let j=0;j<this.state.month[i].length;j++){\n                    b1.push(\n                        <button class=\"button_transfer\" id={this.state.year[i]+\"-\"+this.state.month[i][j]} onClickCapture={this.OpenModal2} >\n                            {this.state.month[i][j]}月\n                        </button>\n                    );\n                }\n                b1.push(\n                    <br />\n                );\n            }\n        }\n        //清空上一個月份陣列\n        this.state.month.splice(0,this.state.month.length);\n\n\n        for (let i=0;i<this.state.older_measurement[0].length;i++){\n            chart_date.push(this.state.older_measurement[7][i]);\n            //心律\n            chart_value[0].push(this.state.older_measurement[1][i]);\n            chart_value[1].push(this.state.older_measurement[2][i]);\n            //血脂 BMI\n            chart_value[4].push(this.state.older_measurement[5][i]);\n            chart_value[5].push(this.state.older_measurement[6][i]);\n\n            //飯前飯後血糖\n            if (this.state.older_measurement[3][i] != null){\n                chart_b_date.push(this.state.older_measurement[7][i]);\n                chart_value[2].push(this.state.older_measurement[3][i]);\n            }\n            if (this.state.older_measurement[4][i] != null){\n                chart_a_date.push(this.state.older_measurement[7][i]);\n                chart_value[3].push(this.state.older_measurement[4][i]);\n            }\n        }\n\n        //折線圖-心律\n        const chart_1 = {\n            series: [\n                {\n                  name: \"收縮壓\",\n                  data: chart_value[0]\n                },\n                {\n                  name: \"舒張壓\",\n                  data: chart_value[1]\n                }\n              ],\n              options: {\n                chart: {\n                  height: 350,\n                  type: 'line',\n                  dropShadow: {\n                    enabled: true,\n                    color: '#000',\n                    top: 18,\n                    left: 7,\n                    blur: 10,\n                    opacity: 0.2\n                  },\n                  toolbar: {\n                    show: false\n                  }\n                },\n                colors: ['#77B6EA', '#545454'],\n                dataLabels: {\n                  enabled: true,\n                  style: {\n                    fontSize: \"30px\",\n                    fontFamily: \"Helvetica, Arial, sans-serif\",\n                    fontWeight: \"bold\"\n                  }\n                },\n                stroke: {\n                  curve: 'smooth'\n                },\n                title: {\n                  text: this.state.older_measurement[0][0],\n                  align: 'left'\n                },\n                grid: {\n                  borderColor: '#e7e7e7',\n                  row: {\n                    colors: ['#f3f3f3', 'transparent'], // takes an array which will be repeated on columns\n                    opacity: 0.5\n                  },\n                },\n                markers: {\n                  size: 1\n                },\n                xaxis: {\n                  categories: chart_date,\n                  title: {\n                    text: 'Month',\n                    style: {\n                        fontSize: \"20px\",\n                        fontFamily: \"Helvetica, Arial, sans-serif\",\n                        fontWeight: \"bold\"\n                    }\n                  }\n                },\n                yaxis: {\n                  title: {\n                    text: '心律',\n                    style: {\n                        fontSize: \"20px\",\n                        fontFamily: \"Helvetica, Arial, sans-serif\",\n                        fontWeight: \"bold\"\n                    }\n                  },\n                  min: 20,\n                  max: 170\n                },\n                legend: {\n                  position: 'top',\n                  horizontalAlign: 'right',\n                  floating: true,\n                  offsetY: -25,\n                  offsetX: -5\n                }\n              },\n        };\n\n        //折線圖-飯前血糖\n        const chart_2 = {\n            series: [\n                {\n                  name: \"飯前血糖\",\n                  data: chart_value[2]\n                }\n              ],\n              options: {\n                chart: {\n                  height: 350,\n                  type: 'line',\n                  dropShadow: {\n                    enabled: true,\n                    color: '#000',\n                    top: 18,\n                    left: 7,\n                    blur: 10,\n                    opacity: 0.2\n                  },\n                  toolbar: {\n                    show: false\n                  }\n                },\n                colors: ['#77B6EA', '#545454'],\n                dataLabels: {\n                  enabled: true,\n                  style: {\n                    fontSize: \"30px\",\n                    fontFamily: \"Helvetica, Arial, sans-serif\",\n                    fontWeight: \"bold\"\n                  }\n                },\n                stroke: {\n                  curve: 'smooth'\n                },\n                title: {\n                  text: this.state.older_measurement[0][0],\n                  align: 'left'\n                },\n                grid: {\n                  borderColor: '#e7e7e7',\n                  row: {\n                    colors: ['#f3f3f3', 'transparent'], // takes an array which will be repeated on columns\n                    opacity: 0.5\n                  },\n                },\n                markers: {\n                  size: 1\n                },\n                xaxis: {\n                  categories: chart_b_date,\n                  title: {\n                    text: 'Month',\n                    style: {\n                        fontSize: \"20px\",\n                        fontFamily: \"Helvetica, Arial, sans-serif\",\n                        fontWeight: \"bold\"\n                    }\n                  }\n                },\n                yaxis: {\n                  title: {\n                    text: '血糖值(飯前)',\n                    style: {\n                        fontSize: \"20px\",\n                        fontFamily: \"Helvetica, Arial, sans-serif\",\n                        fontWeight: \"bold\"\n                    }\n                  },\n                  min: 70,\n                  max: 140\n                },\n                legend: {\n                  position: 'top',\n                  horizontalAlign: 'right',\n                  floating: true,\n                  offsetY: -25,\n                  offsetX: -5\n                }\n              },\n        };\n\n        //折線圖-飯後血糖\n        const chart_3 = {\n            series: [\n                {\n                  name: \"飯後血糖\",\n                  data: chart_value[3]\n                }\n              ],\n              options: {\n                chart: {\n                  height: 350,\n                  type: 'line',\n                  dropShadow: {\n                    enabled: true,\n                    color: '#000',\n                    top: 18,\n                    left: 7,\n                    blur: 10,\n                    opacity: 0.2\n                  },\n                  toolbar: {\n                    show: false\n                  }\n                },\n                colors: ['#77B6EA', '#545454'],\n                dataLabels: {\n                  enabled: true,\n                  style: {\n                    fontSize: \"30px\",\n                    fontFamily: \"Helvetica, Arial, sans-serif\",\n                    fontWeight: \"bold\"\n                  }\n                },\n                stroke: {\n                  curve: 'smooth'\n                },\n                title: {\n                  text: this.state.older_measurement[0][0],\n                  align: 'left'\n                },\n                grid: {\n                  borderColor: '#e7e7e7',\n                  row: {\n                    colors: ['#f3f3f3', 'transparent'], // takes an array which will be repeated on columns\n                    opacity: 0.5\n                  },\n                },\n                markers: {\n                  size: 1\n                },\n                xaxis: {\n                  categories: chart_a_date,\n                  title: {\n                    text: 'Month',\n                    style: {\n                        fontSize: \"20px\",\n                        fontFamily: \"Helvetica, Arial, sans-serif\",\n                        fontWeight: \"bold\"\n                    }\n                  }\n                },\n                yaxis: {\n                  title: {\n                    text: '血糖值(飯後)',\n                    style: {\n                        fontSize: \"20px\",\n                        fontFamily: \"Helvetica, Arial, sans-serif\",\n                        fontWeight: \"bold\"\n                    }\n                  },\n                  min: 100,\n                  max: 160\n                },\n                legend: {\n                  position: 'top',\n                  horizontalAlign: 'right',\n                  floating: true,\n                  offsetY: -25,\n                  offsetX: -5\n                }\n              },\n        };\n\n        //折線圖-血脂\n        const chart_4 = {\n            series: [\n                {\n                  name: \"血脂\",\n                  data: chart_value[4]\n                }\n              ],\n              options: {\n                chart: {\n                  height: 350,\n                  type: 'line',\n                  dropShadow: {\n                    enabled: true,\n                    color: '#000',\n                    top: 18,\n                    left: 7,\n                    blur: 10,\n                    opacity: 0.2\n                  },\n                  toolbar: {\n                    show: false\n                  }\n                },\n                colors: ['#77B6EA', '#545454'],\n                dataLabels: {\n                  enabled: true,\n                  style: {\n                    fontSize: \"30px\",\n                    fontFamily: \"Helvetica, Arial, sans-serif\",\n                    fontWeight: \"bold\"\n                  }\n                },\n                stroke: {\n                  curve: 'smooth'\n                },\n                title: {\n                  text: this.state.older_measurement[0][0],\n                  align: 'left'\n                },\n                grid: {\n                  borderColor: '#e7e7e7',\n                  row: {\n                    colors: ['#f3f3f3', 'transparent'], // takes an array which will be repeated on columns\n                    opacity: 0.5\n                  },\n                },\n                markers: {\n                  size: 1\n                },\n                xaxis: {\n                  categories: chart_date,\n                  title: {\n                    text: 'Month',\n                    style: {\n                        fontSize: \"20px\",\n                        fontFamily: \"Helvetica, Arial, sans-serif\",\n                        fontWeight: \"bold\"\n                    }\n                  }\n                },\n                yaxis: {\n                  title: {\n                    text: '血脂',\n                    style: {\n                        fontSize: \"20px\",\n                        fontFamily: \"Helvetica, Arial, sans-serif\",\n                        fontWeight: \"bold\"\n                    }\n                  },\n                  min: 200,\n                  max: 250\n                },\n                legend: {\n                  position: 'top',\n                  horizontalAlign: 'right',\n                  floating: true,\n                  offsetY: -25,\n                  offsetX: -5\n                }\n              },\n        };\n\n       \n        //折線圖-BMI\n        // const chart_5 = {\n        //     chart: {\n        //       caption: this.state.older_measurement[0][0],\n        //       yaxisname: \"BMI\",\n        //       subcaption: \"\",\n        //       baseFont: \"Arial\",\n        //       baseFontSize: \"20\",\n        //       baseFontColor: \"#446fc5\",\n        //       showValues: \"1\",\n        //       numdivlines: \"3\",\n        //       legenditemfontsize: \"20\",\n        //       legenditemfontbold: \"1\",\n        //       plottooltext: \"<b>$dataValue</b> Tickets $seriesName on $label\",\n        //       theme: \"fusion\"\n        //     },\n        //     categories: [\n        //       {\n        //         category: chart_date\n        //       }\n        //     ],\n        //     dataset: [\n        //         {\n        //             seriesname: \"BMI\",\n        //             data: chart_value[5]\n        //         }\n        //     ]\n        // };\n\n        char_list.push(\n            <ReactApexChart options={chart_1.options} series={chart_1.series} type=\"line\" height={550} />\n        );\n        //沒有血糖紀錄 不寫入圖表\n        if (chart_value[2].length != 0){\n            char_list.push(\n                <ReactApexChart options={chart_2.options} series={chart_2.series} type=\"line\" height={550} />\n            );\n            char_list.push(\n                <ReactApexChart options={chart_3.options} series={chart_3.series} type=\"line\" height={550} />\n            );\n        }\n        char_list.push(\n            <ReactApexChart options={chart_4.options} series={chart_4.series} type=\"line\" height={550} />\n        );\n\n        //顯示不同權限的輸入框\n        if (this.state.permission == 1){\n          prescription.push(\"醫師處方紀錄\");\n          prescription.push(\"醫囑評估/治療措施...\");\n          prescription.push(\"服用藥物...\");\n        }\n        else if(this.state.permission == 2){\n          prescription.push(\"機構紀錄\");\n          prescription.push(\"治療服務...\");\n          prescription.push(\"藥物用量...\");\n        }\n        else if(this.state.permission == 3){\n          prescription.push(\"治療師服務紀錄\");\n          prescription.push(\"治療服務...\");\n          prescription.push(\"藥物用量...\");\n        }\n\n        console.log(this.state.order_detail);\n\n        //顯示過往紀錄\n        if (this.state.order_detail[0].length != 0){\n          for (let i=0;i<this.state.order_detail[0].length;i++){\n            past_record[i].push(\n              <tr>\n                  <td>{this.state.order_detail[0][i]}</td>\n                  <td>{this.state.order_detail[1][i]}</td>\n                  <td>{this.state.order_detail[2][i]}</td>\n                  <td>{this.state.order_detail[3][i]}</td>\n              </tr>\n            );\n            if (this.state.order_detail[0][i] != \"\"){\n                past_record.push([]);\n            }\n          }\n        }\n        \n        return(\n            \n            <div class=\"transfer_div\">\n                <label>\n                    <font size=\"6\"><strong>機構住民資訊</strong></font>\n                    <br />\n                    {/* <font size=\"5\">帳戶</font>\n                    <input \n                        type=\"text\"\n                        id=\"account_from\"\n                        name=\"account_from\"\n                        class=\"transfer_form_input\"\n                        value={this.state.account_name}\n                        disabled\n                    />\n                    <br />\n                    <font size=\"5\">轉給</font>\n                    <input \n                        type=\"text\"\n                        id=\"account_to\" \n                        name=\"account_to\"\n                        class=\"transfer_form_input\"\n                        onChange={this.BalanceAccountTo}\n                    />\n                    <br />\n                    <font size=\"5\">金額</font>\n                    <input \n                        type=\"text\"\n                        placeholder=\"eth\" \n                        id=\"coin\" \n                        name=\"coin\"\n                        class=\"transfer_form_input\"\n                        onKeyDown={this.KeyEnter} \n                        onChange={this.Coin}\n                    />\n                    <br /> */}\n\n                    {a1}\n                    <br />\n                    \n                    <Modal\n                        isOpen={this.state.showModal}\n                        className=\"modal\"\n                    >\n                        {b1}\n                        \n                        <table class=\"order_data_table\" border=\"1\">\n                            <tr class=\"order_data_table_top\">\n                                <td>住民</td>\n                                <td>紀錄</td>\n                                <td>藥品處方</td>\n                                <td>時間</td>\n                            </tr>\n                            {past_record}\n                        </table>\n\n                        <br />\n                        <button class=\"button_transfer_back\" onClickCapture={this.CloseModal}>返回</button>\n                    </Modal>\n\n                    <Modal\n                        isOpen={this.state.showModal2}\n                        className=\"modal\"\n                    >\n                        {char_list}\n                        <font size=\"10\"><strong>{prescription[0]}</strong></font>\n                        <br />\n                        <textarea class=\"transfer_textarea\" id=\"order\" value={this.state.order} onChange={this.order} placeholder={prescription[1]}/>\n                        <textarea class=\"transfer_textarea\" id=\"medicine\" value={this.state.medicine} onChange={this.medicine} placeholder={prescription[2]}/>\n                        <br />\n\n                        <button class=\"button_transfer_send\" onClickCapture={this.Send}>送出</button>\n                        <button class=\"button_transfer_back\" onClickCapture={this.CloseModal2}>返回</button>\n                    </Modal>\n                    \n\n                    <br /><br />\n                    <input class=\"button_transfer_back\" type=\"button\" value=\"返回\" onClickCapture={this.Back} />\n                    <br />\n                    \n                </label>\n            </div>          \n        );\n    }\n}\nexport default Transfer;","/Users/fota/Documents/dapp-react/client/src/CheckAccount.js",["138","139","140","141","142","143","144"],"import React, { Component } from 'react';\nimport Web3 from 'web3';\nimport { createBrowserHistory } from 'history';\nimport \"./CheckAccount.css\";\n\nclass CheckAccount extends Component{\n    constructor(props) {\n        super(props);\n        this.state={\n            user_name: \"\",\n            balance: \"\",\n            permission: 0\n        }\n    }\n\n    componentDidMount=()=>{\n        this.loading();\n    }\n\n    async loading() {\n        fetch('/LoginState', {\n            method: \"POST\",\n            body: JSON.stringify({\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n              'Content-Type': 'application/json; charset=utf-8'\n            }\n          })\n            .then(res => res.json())\n            .then(res => {\n                console.log(res);\n                this.setState({user_name:res.name});\n                this.setState({permission:res.permission});\n                \n                if (res.flag == 0){\n                    const history = createBrowserHistory();\n                    history.push(\"/LoginFail\");\n                    window.location.reload();\n                }\n            })\n            .catch(err => console.log(err))\n        \n\n        fetch('./GetBalance', {\n                method: \"POST\",\n                body: JSON.stringify({\n                }),\n                headers: {\n                    'Content-Type': 'application/json; charset=utf-8'\n                }\n            })\n            .then(res => res.json())\n            .then(res => {\n                if (res.balance == 0){\n                    // document.getElementById('account_id').value = \"\";\n                    alert(\"Account Error !!\");\n                }\n                else{\n                    // document.getElementById('account_id').value = \"\";\n                    this.setState({balance:res.balance/1000000000000000000});\n                }\n            })\n            .catch(err => console.log(err))\n    }\n\n    //返回\n    Back=()=>{\n        const history = createBrowserHistory();\n\n        if (this.state.permission == 1)\n        {\n            history.push(\"/Dr_main\");\n            window.location.reload();\n        }\n        else if (this.state.permission == 2){\n            history.push(\"/In_main\");\n            window.location.reload();\n        }\n        else if (this.state.permission == 3){\n            history.push(\"/Th_main\");\n            window.location.reload();\n        }\n        else if (this.state.permission == 4){\n            history.push(\"/Co_main\");\n            window.location.reload();\n        }\n    }\n\n    render(){            \n        return(\n            <div>\n                <form class=\"checkaccount_form\">\n                    <label>\n                        <br /><br /><br /><br /><br /><br />\n                        <font size=\"6\">餘額</font>\n                        <br />\n                        <input type=\"button\" class=\"button_x\" value=\"\"/>\n                        <br />\n                        <font size=\"6\">{this.state.balance} ETH</font>\n                        <br /><br /><br />\n                        <input class=\"button_checkaccount_back\" type=\"button\" value=\"返回\" onClickCapture={this.Back} />\n                        </label>\n                </form>\n            </div>          \n        );\n    }\n}\nexport default CheckAccount;","/Users/fota/Documents/dapp-react/client/src/LoginFail.js",[],"/Users/fota/Documents/dapp-react/client/src/management_main.js",["145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162"],"import React, { Component } from 'react';\nimport Web3 from 'web3';\nimport { createBrowserHistory } from 'history';\nimport \"./All_main.css\";\nimport image from './image/user.png';\nimport image_promise from './image/authorize.png';\nimport image_patient_data from './image/patient_data.png';\nimport image_account from './image/account.png';\nimport image_system from './image/system.png';\n\nimport image_arrow from './image/arrow.png';\nimport image_dr from './image/doctor.png';\nimport image_patient from './image/patient.png';\nimport image_th from './image/therapy.png';\nimport image_in from './image/institution.png';\nimport image_contract from './image/contract.png';\n\nimport moment from \"moment\";\n\nclass management_main extends Component{\n    constructor(props) {\n        super(props);\n        this.state={\n            user_name: \"\",\n            transaction_hash: [],\n            transaction_from_name: [],\n            transaction_from: [],\n            transaction_to_name: [],\n            transaction_to: [],\n            transaction_coin: [],\n            transaction_gas: [],\n            timestamp: [],\n            date: new Date()\n        }\n    }\n\n    componentDidMount() {\n        this.timerID = setInterval(() => this.tick(),10);\n    }\n\n    componentWillMount() {\n        clearInterval(this.timerID);\n        this.loading()\n    }\n\n    tick() {\n        this.setState({date: new Date()});\n    }\n\n    async loading() {\n        fetch('/LoginState', {\n            method: \"POST\",\n            body: JSON.stringify({\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n              'Content-Type': 'application/json; charset=utf-8'\n            }\n          })\n            .then(res => res.json())\n            .then(res => {\n                this.setState({user_name:res.name});\n                \n                if (res.flag == 0){\n                    const history = createBrowserHistory();\n                    history.push(\"/LoginFail\");\n                    window.location.reload();\n                }\n            })\n            .catch(err => console.log(err))\n\n        var web3 = new Web3();\n        web3.setProvider(new web3.providers.HttpProvider('http://localhost:7545'));\n        \n        var block_number = await web3.eth.getBlockNumber();\n        var detail = [];\n        var hash = [];\n        var from_name = [];\n        var from = [];\n        var to_name = [];\n        var to = [];\n        var coin = [];\n        var gas = [];\n        var timestamp = [];\n\n        var time = 0;\n        var date = []\n\n        //transaction log\n        for (let i=1;i<=block_number;i++){\n            detail.push(await web3.eth.getTransactionFromBlock(i));\n            time = (await web3.eth.getBlock(i)).timestamp;\n            time = new Date(time*1000);\n            date = String(time).split(\" \")\n\n            fetch('/Get_Information', {\n                method: \"POST\",\n                body: JSON.stringify({\n                    from: detail[i-1].from,\n                    to: detail[i-1].to\n                }),\n                // headers: new Headers({\n                //     'Content-Type': 'application/json',\n                //     // 'Authorization': token, /* 把token放在這 */\n                // })\n                headers: {\n                  'Content-Type': 'application/json; charset=utf-8'\n                }\n              })\n                .then(res => res.json())\n                .then(res => {\n                    from_name.push(res.from_name);\n                    to_name.push(res.to_name);\n                })\n                .catch(err => console.log(err))\n\n            hash.push(detail[i-1].hash);\n            from.push(detail[i-1].from);\n            to.push(detail[i-1].to);\n            coin.push(detail[i-1].value/1000000000000000000);\n            gas.push(detail[i-1].gasPrice*21000/1000000000000000000);\n            timestamp.push(date[3] + \"/\" + date[1]+ \"/\" + date[2]+ \" \" + date[4]);\n        }\n        // console.log(String(time).split(\" \"));\n\n        this.setState({transaction_hash:hash});\n        this.setState({transaction_from_name:from_name});\n        this.setState({transaction_from:from});\n        this.setState({transaction_to_name:to_name});\n        this.setState({transaction_to:to});\n        this.setState({transaction_coin:coin});\n        this.setState({transaction_gas:gas});\n        this.setState({timestamp:timestamp});\n\n        //數位簽名\n        // console.log(web3.eth.accounts.sign('Some data', '0xe89fbfea18c4b62643002d60b14f7726e9bc40cd12cdc08fd55e5b55ea52a6c5'));\n        // var messageHash= web3.eth.accounts.hashMessage('Some data');\n        // console.log(messageHash);\n        // console.log(web3.eth.accounts.recover({\n        //     messageHash: \"0x1da44b586eb0729ff70a73c326926f6ed5a25f5b056e7f47fbc6e58d86871655\",\n        //     r: \"0x880e3546aae0ac9682318ccf3ca4e96001182f3f4e030a1d87cd8b793a8b29ae\",\n        //     s: \"0x615a78474d20c65c4a1d0ecc5234fb9634314ac6bcf486fb30d50c7fed4426e2\",\n        //     v: \"0x1b\"\n        // }));\n    }\n\n    //\n    Request=()=>{\n    }\n\n    //\n    Transfer=()=>{\n    }\n\n    //\n    CheckAccount=()=>{\n    }\n\n    //專責制度概況\n    System=()=>{\n        const history = createBrowserHistory();\n        history.push(\"/System_Management\");\n        window.location.reload();\n    }\n\n    //登出\n    Logout=()=>{\n        fetch('/LoginState', {\n            method: \"POST\",\n            body: JSON.stringify({\n                account: this.state.user_name,\n                state: 0\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n              'Content-Type': 'application/json; charset=utf-8'\n            }\n          })\n            .then(res => res.text())\n            .then(res => {\n            })\n            .catch(err => console.log(err))\n\n        const history = createBrowserHistory();\n        history.push(\"/\");\n        window.location.reload();\n    }\n\n    render(){\n        const a1 = [];\n\n        for(let i=0;i<this.state.transaction_hash.length;i++){\n            // 情況一：醫生->治療師/機構\n            if (this.state.transaction_from_name[i] == \"Dr.A\" || \n                this.state.transaction_from_name[i] == \"Dr.B\" || \n                this.state.transaction_from_name[i] == \"Dr.C\"   ){\n                if (this.state.transaction_to_name[i] == \"PT\" ||\n                    this.state.transaction_to_name[i] == \"OT\" ||\n                    this.state.transaction_to_name[i] == \"ST\"   ){\n                        a1.push(\n                            <tr class=\"Dr_In_form-box\">\n                                <tr>\n                                <td colspan=\"3\" align=\"center\">\n                                        <strong>\n                                            交易{[i+1]}(Hash)：  \n                                        </strong>\n                                        <font class=\"text\">{this.state.transaction_hash[i]}</font>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td width=\"30%\" align=\"center\">\n                                        <img src={image_dr} alt=\"Background\" class=\"image_block\"/>\n                                        <br />\n                                        <font>{this.state.transaction_from_name[i]}</font>\n                                    </td>\n                                    <td width=\"30%\" align=\"center\">\n                                        <img src={image_arrow} alt=\"Background\" class=\"image_arrow\"/>\n                                        <br />\n                                        <font>請求資料</font>\n                                    </td>\n                                    <td width=\"33%\" align=\"center\">\n                                        <img src={image_th} alt=\"Background\" class=\"image_block\"/>\n                                        <br />\n                                        <font>{this.state.transaction_to_name[i]}</font>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td colspan=\"3\" align=\"right\">\n                                        {this.state.timestamp[i]}\n                                    </td>\n                                </tr>\n                            </tr>\n                        );\n                }\n                else if (this.state.transaction_to_name[i] == \"InstitutionA\"){\n                    a1.push(\n                        <tr class=\"Dr_In_form-box\">\n                            <tr>\n                                <td colspan=\"3\" align=\"center\">\n                                    <strong>\n                                        交易{[i+1]}(Hash)：  \n                                    </strong>\n                                    <font class=\"text\">{this.state.transaction_hash[i]}</font>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td width=\"30%\" align=\"center\">\n                                    <img src={image_dr} alt=\"Background\" class=\"image_block\"/>\n                                    <br />\n                                    <font>{this.state.transaction_from_name[i]}</font>\n                                </td>\n                                <td width=\"30%\" align=\"center\">\n                                    <img src={image_arrow} alt=\"Background\" class=\"image_arrow\"/>\n                                    <br />\n                                    <font>看診</font>\n                                </td>\n                                <td width=\"33%\" align=\"center\">\n                                    <img src={image_patient} alt=\"Background\" class=\"image_block\"/>\n                                    <br />\n                                    <font>{this.state.transaction_to_name[i]}</font>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td colspan=\"3\" align=\"right\">\n                                    {this.state.timestamp[i]}\n                                </td>\n                            </tr>\n                            <tr>\n                                <td colspan=\"3\">\n                                <input class=\"button main_button7\" type=\"button\" id={this.state.transaction_hash[i]+\" \"+this.state.transaction_from_name[i]+\" \"+this.state.transaction_from[i]} value=\"檢視\" onClickCapture={this.CheckBlockDetail} />\n                                </td>\n                            </tr>\n                        </tr>\n                    );\n                }\n            }\n            //情況二：治療師->醫生/機構\n            else if (this.state.transaction_from_name[i] == \"PT\" ||\n                     this.state.transaction_from_name[i] == \"OT\" ||\n                     this.state.transaction_from_name[i] == \"ST\"   ){\n                if (this.state.transaction_to_name[i] == \"Dr.A\" || \n                    this.state.transaction_to_name[i] == \"Dr.B\" || \n                    this.state.transaction_to_name[i] == \"Dr.C\"   ){\n                        a1.push(\n                            <tr class=\"Dr_In_form-box\">\n                                <tr>\n                                    <td colspan=\"3\" align=\"center\">\n                                        <strong>\n                                            交易{[i+1]}(Hash)：  \n                                        </strong>\n                                        <font class=\"text\">{this.state.transaction_hash[i]}</font>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td width=\"30%\" align=\"center\">\n                                        <img src={image_th} alt=\"Background\" class=\"image_block\"/>\n                                        <br />\n                                        <font>{this.state.transaction_from_name[i]}</font>\n                                    </td>\n                                    <td width=\"30%\" align=\"center\">\n                                        <img src={image_arrow} alt=\"Background\" class=\"image_arrow\"/>\n                                        <br />\n                                        <font>請求資料</font>\n                                    </td>\n                                    <td width=\"33%\" align=\"center\">\n                                        <img src={image_dr} alt=\"Background\" class=\"image_block\"/>\n                                        <br />\n                                        <font> {this.state.transaction_to_name[i]}</font>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td colspan=\"3\" align=\"right\">\n                                        {this.state.timestamp[i]}\n                                    </td>\n                                </tr>\n                            </tr>\n                        );\n                }\n                else if (this.state.transaction_to_name[i] == \"InstitutionA\"){\n                    a1.push(\n                        <tr class=\"Dr_In_form-box\">\n                            <tr>\n                                <td colspan=\"3\" align=\"center\">\n                                    <strong>\n                                        交易{[i+1]}(Hash)：\n                                    </strong>\n                                    <font class=\"text\">{this.state.transaction_hash[i]}</font>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td width=\"30%\" align=\"center\">\n                                    <img src={image_th} alt=\"Background\" class=\"image_block\"/>\n                                    <br />\n                                    <font>{this.state.transaction_from_name[i]}</font>\n                                </td>\n                                <td width=\"30%\" align=\"center\">\n                                    <img src={image_arrow} alt=\"Background\" class=\"image_arrow\"/>\n                                    <br />\n                                    <font>治療處方</font>\n                                </td>\n                                <td width=\"33%\" align=\"center\">\n                                    <img src={image_patient} alt=\"Background\" class=\"image_block\"/>\n                                    <br />\n                                    <font> {this.state.transaction_to_name[i]}</font>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td colspan=\"3\" align=\"right\">\n                                    {this.state.timestamp[i]}\n                                </td>\n                            </tr>\n                            <tr>\n                                <td colspan=\"3\">\n                                <input class=\"button main_button7\" type=\"button\" id={this.state.transaction_hash[i]+\" \"+this.state.transaction_from_name[i]+\" \"+this.state.transaction_from[i]} value=\"檢視\" onClickCapture={this.CheckBlockDetail} />\n                                </td>\n                            </tr>\n                        </tr>\n                    );\n                }\n            }\n            //情況三：機構->機構\n            else if (this.state.transaction_from_name[i] == \"InstitutionA\" && this.state.transaction_to_name[i] == \"InstitutionA\"){\n                a1.push(\n                    <tr class=\"Dr_In_form-box\">\n                        <tr>\n                            <td colspan=\"33\" align=\"center\">\n                                <strong>\n                                    交易{[i+1]}(Hash)：  \n                                </strong>\n                                <font class=\"text\">{this.state.transaction_hash[i]}</font>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width=\"30%\" align=\"center\">\n                                <img src={image_in} alt=\"Background\" class=\"image_block\"/>\n                                <br />\n                                <font>{this.state.transaction_from_name[i]}</font>\n                            </td>\n                            <td width=\"30%\" align=\"center\">\n                                <img src={image_arrow} alt=\"Background\" class=\"image_arrow\"/>\n                                <br />\n                                <font>日常照護</font>\n                            </td>\n                            <td width=\"33%\" align=\"center\">\n                                <img src={image_patient} alt=\"Background\" class=\"image_block\"/>\n                                <br />\n                                <font> {this.state.transaction_to_name[i]}</font>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"3\" align=\"right\">\n                                {this.state.timestamp[i]}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"3\">\n                            <input class=\"button main_button7\" type=\"button\" id={this.state.transaction_hash[i]+\" \"+this.state.transaction_from_name[i]+\" \"+this.state.transaction_from[i]} value=\"檢視\" onClickCapture={this.CheckBlockDetail} />\n                            </td>\n                        </tr>\n                    </tr>\n                );\n            }\n            //情況四：合約\n            else {\n                a1.push(\n                    <tr class=\"Detail_form-box\">\n                        <tr>\n                            <td align=\"center\">\n                                <strong>\n                                    交易{[i+1]}(Hash)：\n                                </strong>\n                                <font class=\"text\">{this.state.transaction_hash[i]}</font>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td align=\"center\">\n                                <img src={image_contract} alt=\"Background\" class=\"image_block\"/>\n                                <br />\n                                <font class=\"text_contract\">合約部署</font>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td align=\"right\">\n                                {this.state.timestamp[i]}\n                            </td>\n                        </tr>\n                    </tr>\n                );\n            }\n        }\n\n        const a2 = [];\n        let j = 0;\n        for(let i=a1.length;i>=0;i--){\n            a2[j] = a1[i];\n            j++;\n        }\n        \n        return(\n            <div class=\"user_main\">\n                <form class=\"form-box\">\n                    <label>\n                        <table class=\"table-box\">\n                            <tr>\n                                <input class=\"button button1\" type=\"button\" value=\"\" />\n                                <td width=\"20%\" align=\"left\"><strong>{moment().format(\"YYYY/MM/DD\")} {new Date().toLocaleTimeString()}</strong></td>\n                                <td width=\"80%\" align=\"right\"><img src={image} alt=\"Background\" class=\"image\"/>&nbsp;&nbsp;\n                                    <strong>{this.state.user_name}</strong> 歡迎登入\n                                    <input class=\"button main_button6\" type=\"button\" value=\"登出\" onClickCapture={this.Logout} /></td>\n                            </tr>\n                        </table>\n\n                        <section>\n                            <article class=\"article\">\n                            <table width=\"100%\" height=\"100%\">\n                                <tr height=\"50%\">\n                                    <td align=\"center\" width=\"50%\">\n                                        <input class=\"main_button2\" type=\"image\" src={image_promise} alt=\"授權節點\"/><br />\n                                        <div class=\"button_name\">none1</div>\n                                    </td>\n                                    <td align=\"center\">\n                                        <input class=\"main_button\" type=\"image\" src={image_patient_data} alt=\"機構住民資料\"/><br />\n                                        <div class=\"button_name\">none2</div>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td align=\"center\">\n                                        <input class=\"main_button\" type=\"image\" src={image_account} alt=\"查帳\"/><br />\n                                        <div class=\"button_name\">none3</div>\n                                    </td>\n                                    <td align=\"center\">\n                                        <input class=\"main_button\" type=\"image\" src={image_system} alt=\"專責制度概況\" onClickCapture={this.System}/><br />\n                                        <div class=\"button_name\">專責制度概況</div>\n                                    </td>\n                                </tr>\n                            </table>\n                            </article>\n                        </section>\n\n                        <div class=\"block_label\">區塊狀態列</div>\n\n                        <div class=\"block_detail\">\n                            <table>\n                                {a2}\n                            </table>\n                        </div>\n\n                        <nav class=\"nav\">\n                            <marquee direction=\"right\" height=\"auto\" scrollamount=\"10\" behavior=\"alternate\">！！！疫情期間出入請配戴口罩，勤洗手！！！</marquee>\n                        </nav>\n                        \n                    </label>\n                </form>\n            </div>       \n        );\n    }\n}\nexport default management_main;","/Users/fota/Documents/dapp-react/client/src/user_request.js",["163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179"],"import React, { Component } from 'react';\nimport Web3 from 'web3';\nimport { createBrowserHistory } from 'history';\nimport \"./user_request.css\";\n\nclass user_request extends Component{\n  constructor(props) {\n    super(props);\n    this.request_account = this.request_account.bind(this);\n    this.state = {\n      user_name: \"\",\n      user_account: \"\",\n      accounts: [],\n      account_request_list: [],\n      permission: 0,\n      account_name_list: [],\n      date: new Date()\n    }\n  }\n\n  componentDidMount() {\n    this.timerID = setInterval(() => this.tick(),1000);\n  }\n\n  componentWillMount() {\n    clearInterval(this.timerID);\n    this.loadBlockchainData()\n  }\n\n  tick() {\n    this.setState({date: new Date()});\n\n    fetch('/User_Request', {\n      method: \"POST\",\n      body: JSON.stringify({\n      }),\n      // headers: new Headers({\n      //     'Content-Type': 'application/json',\n      //     // 'Authorization': token, /* 把token放在這 */\n      // })\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      }\n    })\n      .then(res => res.json())\n      .then(res => {\n          this.setState({account_request_list:res.account_request_list});\n      })\n      .catch(err => console.log(err))\n\n    // console.log(this.state.account_request_list);\n  }\n\n  async loadBlockchainData() {\n    fetch('/LoginState', {\n      method: \"POST\",\n      body: JSON.stringify({\n      }),\n      // headers: new Headers({\n      //     'Content-Type': 'application/json',\n      //     // 'Authorization': token, /* 把token放在這 */\n      // })\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      }\n    })\n      .then(res => res.json())\n      .then(res => {\n          this.setState({user_account:res.account});\n          this.setState({user_name:res.name});\n          this.setState({permission:res.permission});\n          \n          if (res == \"\"){\n              const history = createBrowserHistory();\n              history.push(\"/LoginFail\");\n              window.location.reload();\n          }\n      })\n      .catch(err => console.log(err))\n\n      fetch('/Get_Information', {\n        method: \"POST\",\n        body: JSON.stringify({\n          getname: 0\n        }),\n        // headers: new Headers({\n        //     'Content-Type': 'application/json',\n        //     // 'Authorization': token, /* 把token放在這 */\n        // })\n        headers: {\n          'Content-Type': 'application/json; charset=utf-8'\n        }\n      })\n        .then(res => res.json())\n        .then(res => {\n            this.setState({account_name_list:res.name});\n        })\n        .catch(err => console.log(err))\n\n    var web3 = new Web3();\n    web3.setProvider(new web3.providers.HttpProvider('http://localhost:7545'));\n    // var Web3 = require('web3');\n    // var web3 = new Web3(new Web3.providers.HttpProvider(\"http://localhost:7545\"));\n\n    const acc = await web3.eth.getAccounts();\n    this.setState({accounts:acc});\n    \n  }\n\n  request_account(event) {\n    // console.log(\"請求 \"+event.target.value+\" 授權\");\n    var resp = window.prompt(\"身分驗證 請輸入密碼：\");\n\n    fetch('/User_Choose_Request', {\n      method: \"POST\",\n      body: JSON.stringify({\n        user_name: this.state.user_name,\n        password: resp,\n        click_request: event.target.value\n      }),\n      // headers: new Headers({\n      //     'Content-Type': 'application/json',\n      //     // 'Authorization': token, /* 把token放在這 */\n      // })\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      }\n    })\n      .then(res => res.json())\n      .then(res => {\n        console.log(res);\n          if (res.text == \"promise check\"){\n            alert(\"驗證成功 等待對方授權許可...\");\n          }\n          else if (res.text == \"double promise\"){\n            alert(\"已請求該節點 待確認...\");\n          }\n          else if (res.text == \"already promise\"){\n            alert(\"您已授權許可 可進行數據讀取\");\n          }\n          else\n            alert(\"驗證錯誤 即將導引至主畫面\");\n            \n          const history = createBrowserHistory();\n          if (this.state.permission == 1)\n          {\n              history.push(\"/Dr_main\");\n              window.location.reload();\n          }\n          else if (this.state.permission == 2){\n              history.push(\"/In_main\");\n              window.location.reload();\n          }\n          else if (this.state.permission == 3){\n              history.push(\"/Th_main\");\n              window.location.reload();\n          }\n          else if (this.state.permission == 4){\n              history.push(\"/Co_main\");\n              window.location.reload();\n          }\n      })\n      .catch(err => console.log(err))\n  }\n\n  promise_request=(event)=>{\n    var rates = document.getElementsByName('radio');\n    var rate_value;\n    //取得天數\n    for(var i = 0; i < rates.length; i++){\n        if(rates[i].checked){\n            rate_value = rates[i].value;\n        }\n    }\n    // console.log(event.target.name);\n    // console.log(event.target.id);\n\n    if (!rate_value && event.target.id == \"yes\"){\n      alert(\"請選擇預授權天數\");\n    }\n    else{\n      fetch('/User_Request', {\n        method: \"POST\",\n        body: JSON.stringify({\n          user_name: this.state.user_name,\n          promise_name: event.target.name,\n          value: event.target.id,\n          promise_mon: rate_value\n        }),\n        // headers: new Headers({\n        //     'Content-Type': 'application/json',\n        //     // 'Authorization': token, /* 把token放在這 */\n        // })\n        headers: {\n          'Content-Type': 'application/json; charset=utf-8'\n        }\n      })\n      .then(res => res.json())\n      .then(res => {\n      })\n      .catch(err => console.log(err))\n\n      if (event.target.id == \"no\"){\n        alert(\"拒絕授權\");\n      }\n      else\n        alert(\"成功授權\");\n    }\n  }\n\n  back=()=>{\n    const history = createBrowserHistory();\n\n    if (this.state.permission == 1)\n    {\n        history.push(\"/Dr_main\");\n        window.location.reload();\n    }\n    else if (this.state.permission == 2){\n        history.push(\"/In_main\");\n        window.location.reload();\n    }\n    else if (this.state.permission == 3){\n        history.push(\"/Th_main\");\n        window.location.reload();\n    }\n    else if (this.state.permission == 4){\n        history.push(\"/Co_main\");\n        window.location.reload();\n    }\n  }\n\n  render() {\n    const a1 = [];\n    const a2 = [];\n\n    const style = {\n      backgroundColor: \"#dddbdbc4\",\n      color: \"black\",\n      fontFamily: \"Arial\",\n      fontSize: \"20px\",\n      textAlign: \"center\",\n      height: \"100vh\"\n    };\n\n    // console.log(this.state.account_name_list);\n    var count = 0;\n    for(let i=1;i<10;i++){\n      var account = \"account\"+i;\n\n      if (this.state.user_account != \"account\"+i){\n        count++;\n        a1.push(\n          <input class=\"request_button\" type=\"button\" id={account} value={this.state.account_name_list[i]} onClickCapture={this.request_account}/>\n        );\n        if (count == 4)\n          a1.push(<br />);\n      }\n    }\n\n    //抵銷重置後第一秒顯示問題\n    if (this.state.account_request_list.length != 0){\n      for(let i=0;i<this.state.account_request_list[this.state.user_account.split(\"t\")[1]].length;i++){\n          a2.push(\n              <tr>\n                <td width=\"33%\">\n                  <font size=\"6\">{this.state.account_request_list[this.state.user_account.split(\"t\")[1]][i]}</font>\n                </td>\n                <td width=\"33%\">\n                  <label class=\"container\">1 Month(30 Day)\n                    <input type=\"radio\" name=\"radio\" id=\"mon_1\" value=\"1\"/>\n                    <span class=\"check\"></span>\n                  </label>\n\n                  <label class=\"container\">2 Month(60 Day)\n                    <input type=\"radio\" name=\"radio\" id=\"mon_2\" value=\"2\"/>\n                    <span class=\"check\"></span>\n                  </label>\n\n                  <label class=\"container\">3 Month(90 Day)\n                    <input type=\"radio\" name=\"radio\" id=\"mon_3\" value=\"3\"/>\n                    <span class=\"check\"></span>\n                  </label>\n                </td>\n                <td width=\"33%\">\n                  <input class=\"request_button_accept\" type=\"button\" id={\"yes\"} value={\"接受\"} name={this.state.account_request_list[this.state.user_account.split(\"t\")[1]][i]} text={this.state.account_request_list[this.state.user_account.split(\"t\")[1]][i]} onClickCapture={this.promise_request}/>\n                  <br />\n                  <input class=\"request_button_refuse\" type=\"button\" id={\"no\"} value={\"拒絕\"} name={this.state.account_request_list[this.state.user_account.split(\"t\")[1]][i]} onClickCapture={this.promise_request}/>\n                </td>\n              </tr>\n          );\n      }\n    }\n\n    return (\n      <div style={style}>\n        <label>\n          <br /><br />\n          <strong><font size=\"6\">選取節點，請求數據授權</font></strong>\n          <form class=\"request-form-box\">\n            <input class=\"request_button_x\" type=\"button\"/><br />\n            {a1}\n          </form>\n\n          <br /><br />\n          <strong><font size=\"6\">節點請求授權申請</font></strong>\n          \n          <table class=\"request_table\" align=\"center\" border=\"2\" rules=\"rows\">\n            <tr>\n              <td>節點\n              </td>\n              <td>授權天數\n              </td>\n              <td>狀態\n              </td>\n            </tr>\n\n            {a2}\n\n          </table>\n          <br />\n          <input class=\"request_button_back\" type=\"button\" value=\"返回\" onClickCapture={this.back} />\n\n        </label>\n        \n      </div>\n    );\n  }\n}\nexport default user_request;","/Users/fota/Documents/dapp-react/client/src/System.js",["180","181","182","183","184","185","186"],"import React,{ Component } from 'react';\nimport Web3 from 'web3';\nimport { createBrowserHistory } from 'history';\nimport \"./System.css\";\n\nclass System extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { \n            name: \"\",\n            account: \"\",\n            permission: 0,\n            ch: [[],[]],\n            check: []\n        }\n    }\n\n    componentWillMount() {\n        this.load()\n    }\n\n    async load() {\n        var web3 = new Web3();\n        web3.setProvider(new web3.providers.HttpProvider('http://localhost:7545'));\n        \n        fetch('/LoginState', {\n          method: \"POST\",\n          body: JSON.stringify({\n          }),\n          // headers: new Headers({\n          //     'Content-Type': 'application/json',\n          //     // 'Authorization': token, /* 把token放在這 */\n          // })\n          headers: {\n            'Content-Type': 'application/json; charset=utf-8'\n          }\n        })\n          .then(res => res.json())\n          .then(res => {\n              this.setState({name:res.name});\n              this.setState({account:res.account});\n              this.setState({permission:res.permission});\n              \n              if (res.flag == 0){\n                  const history = createBrowserHistory();\n                  history.push(\"/LoginFail\");\n                  window.location.reload();\n              }\n          })\n          .catch(err => console.log(err))\n\n          fetch('/Get_System', {\n            method: \"POST\",\n            body: JSON.stringify({\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n              'Content-Type': 'application/json; charset=utf-8'\n            }\n          })\n            .then(res => res.json())\n            .then(res => {\n              this.setState({ch:res.ch});\n              this.setState({check:res.check});\n            })\n            .catch(err => console.log(err))\n    }\n\n  Apply=()=>{\n    const history = createBrowserHistory();\n\n    history.push(\"/System_apply\");\n    window.location.reload();\n  }\n\n  back=()=>{\n    const history = createBrowserHistory();\n\n    if (this.state.permission == 1)\n    {\n        history.push(\"/Dr_main\");\n        window.location.reload();\n    }\n    else if (this.state.permission == 2){\n        history.push(\"/In_main\");\n        window.location.reload();\n    }\n    else if (this.state.permission == 3){\n        history.push(\"/Th_main\");\n        window.location.reload();\n    }\n    else if (this.state.permission == 4){\n        history.push(\"/Co_main\");\n        window.location.reload();\n    }\n    else if (this.state.permission == 0){\n      history.push(\"/management_main\");\n      window.location.reload();\n    }\n  }\n\n  render() {\n    const a1 = [];\n    const text = \"\";\n\n    for (let i=0;i<this.state.ch[0].length;i++){\n      a1.push(\n        <tr class=\"system_table2-box\">\n          <td width=\"10%\"><strong><font size=\"5\">專責醫師：</font></strong></td>\n          <td><strong><font size=\"5\">{this.state.ch[0][i]}</font></strong></td>\n          <td rowspan=\"2\" colspan=\"2\" align=\"center\"><strong><font size=\"5\">{this.state.check[i]}</font></strong></td>\n        </tr>\n      );\n      a1.push(\n        <tr class=\"system_table2-box\">\n          <td><strong><font size=\"5\">機構：</font></strong></td>\n          <td width=\"500\"><strong><font size=\"5\">{this.state.ch[1][i]}</font></strong></td>\n        </tr>\n  );\n    }\n    \n    return (\n      <div>\n        <table class=\"system_N_table-box\">\n            <tr>\n              <td width=\"5%\"></td>\n              <td width=\"10%\" align=\"center\"><strong><font size=\"6\">申請人</font></strong></td>\n              <td width=\"40%\" align=\"center\"><strong><font size=\"6\">申請進度</font></strong></td>\n            </tr>\n\n            {a1}\n\n        </table>\n\n        <form>\n          <input class=\"button button1\" type=\"button\" value=\"\" />\n          <input class=\"system_button2\" type=\"button\" value=\"申請專責制度\" onClickCapture={this.Apply} />\n          <input class=\"system_back\" type=\"button\" value=\"返回\" onClickCapture={this.back} />\n        </form>\n      </div>\n    );\n  }\n\n}\n\nexport default System;","/Users/fota/Documents/dapp-react/client/src/Dr_main.js",["187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212"],"import React, { Component } from 'react';\nimport Web3 from 'web3';\nimport { createBrowserHistory } from 'history';\nimport \"./new.css\";\nimport image from './image/user.png';\n\nimport image_arrow from './image/arrow.png';\nimport image_patient from './image/patient.png';\nimport image_D_P from './image/D_P.png';\nimport image_I_P from './image/I_P.png';\nimport image_T_P from './image/T_P.png';\n\nimport Modal from 'react-modal';\n// import { Modal, Button } from 'antd';\nimport moment from \"moment\";\n\nclass Dr_main extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            user_account: \"\",\n            user_name: \"\",\n            user_job: \"\",\n            patient_list: [],\n            showModal: false,\n            save_patient_number: \"\",\n            save_patient_id: \"\",\n            save_content_table: [[]],\n            list_patient_record: [[]],\n            table_css_flag: true,\n            promise_node_count: 0,\n            account_request_list: [],\n            account_request_list_name: [],\n            date: new Date()\n        }\n        this.CloseModal = this.CloseModal.bind(this);\n        this.Request = this.Request.bind(this);\n    }\n\n    componentDidMount() {\n        this.timerID = setInterval(() => this.tick(),1000);\n        this.loading();\n    }\n\n    componentWillMount() {\n        clearInterval(this.timerID);\n    }\n\n    tick() {\n    //   this.setState({date: new Date()});\n\n      //get node count\n      fetch('/Get_Promise_node_count', {\n        method: \"POST\",\n        body: JSON.stringify({\n            user_account: this.state.user_account\n        }),\n        // headers: new Headers({\n        //     'Content-Type': 'application/json',\n        //     // 'Authorization': token, /* 把token放在這 */\n        // })\n        headers: {\n          'Content-Type': 'application/json; charset=utf-8'\n        }\n      })\n        .then(res => res.json())\n        .then(res => {\n            this.setState({promise_node_count:res.count});\n        })\n        .catch(err => console.log(err))\n    }\n\n    async loading() {\n        fetch('/LoginState', {\n            method: \"POST\",\n            body: JSON.stringify({\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n            .then(res => res.json())\n            .then(res => {\n                this.setState({ user_account: res.account });\n                this.setState({ user_name: res.name });\n                this.setState({ user_job: res.job });\n\n                if (res.flag == 0) {\n                    const history = createBrowserHistory();\n                    history.push(\"/LoginFail\");\n                    window.location.reload();\n                }\n            })\n            .catch(err => console.log(err))\n\n\n        fetch('/Get_patient_list', {\n            method: \"POST\",\n            body: JSON.stringify({\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n            .then(res => res.json())\n            .then(res => {\n                this.setState({ patient_list: res.patient_list })\n\n            })\n            .catch(err => console.log(err))\n    }\n\n    //登出\n    Logout = () => {\n        fetch('/LoginState', {\n            method: \"POST\",\n            body: JSON.stringify({\n                account: this.state.user_name,\n                state: 0\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n            .then(res => res.text())\n            .then(res => {\n            })\n            .catch(err => console.log(err))\n\n        const history = createBrowserHistory();\n        history.push(\"/\");\n        window.location.reload();\n    }\n\n    //查看個案治療紀錄\n    ClickPatientRecord = (event) => {\n        var list = event.target.id.split(\",\");\n        console.log(list)\n\n        fetch('/CheckBlockDetail', {\n            method: \"POST\",\n            body: JSON.stringify({\n                user_name: this.state.user_name,\n                promise_name: list[0],\n                hash: list[3],\n                user_id: this.state.save_patient_id\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n            .then(res => res.json())\n            .then(res => {\n                if (res.text == \"not promise\") {\n                    this.setState({ table_css_flag: true });\n\n                    //是否需要授權\n                    var yse_no = window.confirm(\"尚未取得對方的授權許可，是否要請求該節點授權？\");\n                    if (yse_no == true)\n                        var resp = window.prompt(\"身分驗證 請輸入密碼：\");\n                    \n                    fetch('/User_Choose_Request', {\n                        method: \"POST\",\n                        body: JSON.stringify({\n                            user_account: this.state.user_account,\n                            user_name: this.state.user_name,\n                            user_job: this.state.user_job,\n                            password: resp,\n                            click_request_name: list[0],\n                            click_request_job: list[1]\n                        }),\n                        // headers: new Headers({\n                        //     'Content-Type': 'application/json',\n                        //     // 'Authorization': token, /* 把token放在這 */\n                        // })\n                        headers: {\n                            'Content-Type': 'application/json; charset=utf-8'\n                        }\n                        })\n                        .then(res => res.json())\n                        .then(res => {\n                            console.log(res);\n                            if (res.text == \"promise check\"){\n                                alert(\"驗證成功 等待對方授權許可...\");\n                            }\n                            else if (res.text == \"double promise\"){\n                                alert(\"已請求該節點 待確認...\");\n                            }\n                            else if (res.text == \"already promise\"){\n                                alert(\"您已授權許可 可進行數據讀取\");\n                            }\n                        })\n                        .catch(err => console.log(err))\n                    \n                }\n                else if (res.text == \"date over\") {\n                    this.setState({ table_css_flag: true });\n\n                    //是否需要授權\n                    var yse_no = window.confirm(\"您的授權已到期，是否要重新請求該節點授權？\");\n                    if (yse_no == true)\n                        window.prompt(\"身分驗證 請輸入密碼：\");\n                }\n                else {\n                    this.setState({ table_css_flag: false });\n                    this.setState({ save_content_table: res.order_detail })\n                    console.log(res.order_detail);\n                }\n            })\n            .catch(err => console.log(err))\n    }\n\n    //授權節點畫面\n    Request() {\n        this.setState({ showModal: true });\n\n        fetch('/User_Request', {\n            method: \"POST\",\n            body: JSON.stringify({\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n              'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n        .then(res => res.json())\n        .then(res => {\n            this.setState({account_request_list:res.account_request_list});\n            this.setState({account_request_list_name:res.account_request_list_name});\n        })\n        .catch(err => console.log(err))\n    }\n\n    CloseModal() {\n        this.setState({ showModal: false });\n    }\n\n    //選取住民觸發讀取區塊內容\n    changeSelect = (event) => {\n        var checkAll = document.getElementById(\"cbox\").checked\n        this.setState({ save_patient_number: event.target.value });\n        this.setState({ save_patient_id: event.target.value });\n        this.setState({ save_content_table: [[]] });\n\n        fetch('/Get_Patient_Block_Content', {\n            method: \"POST\",\n            body: JSON.stringify({\n                user_id: event.target.value\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n            .then(res => res.json())\n            .then(res => {\n                this.setState({ list_patient_record: res.list })\n            })\n            .catch(err => console.log(err))\n\n        // 1.check 顯示個案全記錄\n        if (checkAll == true) {\n            fetch('/Get_All_Patient_Record', {\n                method: \"POST\",\n                body: JSON.stringify({\n                    leader: this.state.user_name,\n                    job: this.state.user_job,\n                    user_id: event.target.value\n                }),\n                // headers: new Headers({\n                //     'Content-Type': 'application/json',\n                //     // 'Authorization': token, /* 把token放在這 */\n                // })\n                headers: {\n                    'Content-Type': 'application/json; charset=utf-8'\n                }\n            })\n                .then(res => res.json())\n                .then(res => {\n                    this.setState({ save_content_table: res.order_detail })\n                })\n                .catch(err => console.log(err))\n\n            this.setState({ table_css_flag: false });\n        }\n        // 2.取消全部顯示 改為下拉選單\n        else\n            this.setState({ table_css_flag: true });\n\n\n        for (let i = 0; i < this.state.patient_list.length - 1; i++) {\n            if (event.target.value == this.state.patient_list[i][0])\n                this.setState({ save_patient_number: this.state.patient_list[i][1] + this.state.patient_list[i][2] })\n        }\n    }\n\n    // 接受/拒絕授權\n    promise_request=(event)=>{\n        var rates = document.getElementsByName('radio');\n        var rate_value;\n\n        //取得天數\n        for(var i = 0; i < rates.length; i++){\n            if(rates[i].checked){\n                rate_value = rates[i].value;\n            }\n        }\n    \n        if (!rate_value && event.target.id == \"yes\"){\n            alert(\"請選擇預授權天數\");\n        }\n        else{\n            fetch('/User_Request', {\n            method: \"POST\",\n            body: JSON.stringify({\n                user_name: this.state.user_name,\n                user_job: this.state.user_job,\n                promise_name: event.target.name,\n                value: event.target.id,\n                promise_mon: rate_value\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n            })\n            .then(res => res.json())\n            .then(res => {\n            })\n            .catch(err => console.log(err))\n\n            if (event.target.id == \"no\"){\n                alert(\"拒絕授權\");\n            }\n            else\n                alert(\"成功授權\");\n        }\n        this.setState({ showModal: false });\n    }\n\n    render() {\n        const list_table = [];\n        const content_table = [];\n        const patient = [];\n        const a2 = [];\n\n        const content_table_css_nondisplay = {\n            width: \"80%\",\n            height: \"100%\"\n        };\n        const content_table_css_display = {\n            width: \"80%\",\n            height: \"100%\",\n            display: \"none\"\n        };\n\n\n        //匯入機構住民區塊\n        for (let i = 0; i < this.state.list_patient_record.length - 1; i++) {\n            //D to P\n            if (this.state.list_patient_record[i][1] == \"醫師\") {\n                list_table.push(\n                    <tr class=\"list_table_th\">\n                        <td colspan=\"3\" height=\"20px\">\n                            <div>\n                                <img src={image_D_P} alt=\"Background\" class=\"list_image\" />\n                            </div>\n                        </td>\n                    </tr>\n                );\n            }\n            //I to P\n            else if (this.state.list_patient_record[i][1] == \"機構管理者\") {\n                list_table.push(\n                    <tr class=\"list_table_th\">\n                        <td colspan=\"3\" height=\"20px\">\n                            <div>\n                                <img src={image_I_P} alt=\"Background\" class=\"list_image\" />\n                            </div>\n                        </td>\n                    </tr>\n                );\n            }\n            //T to P\n            else {\n                list_table.push(\n                    <tr class=\"list_table_th\">\n                        <td colspan=\"3\" height=\"20px\">\n                            <div>\n                                <img src={image_T_P} alt=\"Background\" class=\"list_image\" />\n                            </div>\n                        </td>\n                    </tr>\n                );\n            }\n\n            list_table.push(\n                <tr >\n                    <td colspan=\"2\" width=\"60%\" height=\"10px\" align=\"left\">\n                        {this.state.list_patient_record[i][0]}\n                    </td>\n                    <td width=\"40%\" height=\"10px\" align=\"right\">\n                        {this.state.save_patient_number}\n                    </td>\n                </tr>\n            );\n\n            list_table.push(\n                <tr>\n                    <td colspan=\"2\" width=\"60%\" height=\"10px\" align=\"left\">\n                        {this.state.list_patient_record[i][1]}\n                    </td>\n                </tr>\n            );\n\n            list_table.push(\n                <tr class=\"list_table_th\">\n                    <td colspan=\"3\" height=\"10px\">\n                        <strong>\n                            時間：{this.state.list_patient_record[i][2]}\n                        </strong>\n                    </td>\n                </tr>\n            );\n\n            if (this.state.user_name == this.state.list_patient_record[i][0] && this.state.user_job == this.state.list_patient_record[i][1]){\n                list_table.push(\n                    <tr class=\"list_table_th\">\n                        <td colspan=\"3\">\n                            <input class=\"button main_button7-1\" type=\"button\" id={this.state.list_patient_record[i]} value=\"查看\" onClickCapture={this.ClickPatientRecord} />\n                        </td>\n                    </tr>\n                );\n            }\n            else {\n                list_table.push(\n                    <tr class=\"list_table_th\">\n                        <td colspan=\"3\">\n                            <input class=\"button main_button7-2\" type=\"button\" id={this.state.list_patient_record[i]} value=\"查看\" onClickCapture={this.ClickPatientRecord} />\n                        </td>\n                    </tr>\n                );\n            }\n            \n        }\n\n        //匯入機構住民資料\n        for (let i = 0; i < this.state.patient_list.length - 1; i++) {\n            patient.push(\n                <option value={this.state.patient_list[i][0]}>{this.state.patient_list[i][1] + \" \" + this.state.patient_list[i][2]}</option>\n            );\n        }\n\n        if (this.state.save_content_table.length != 0) {\n            //隱藏table\n            if (this.state.table_css_flag == true) {\n                content_table.push(\n                    <table class=\"content_table\" style={content_table_css_display}>\n                        <tr>\n                            <td>\n                                <strong><font size=\"5\"></font></strong>\n                                <br />\n                                <img src={image_patient} alt=\"Background\" class=\"content_image\" />\n                            </td>\n                            <td><font size=\"6\">治療人員</font></td>\n                            <td><font size=\"6\">照護記錄</font></td>\n                        </tr>\n\n                        <tr class=\"content_table_th\">\n                            <td colspan=\"3\"><strong></strong></td>\n                        </tr>\n\n                        <tr>\n                            <td width=\"33%\"></td>\n                            <td width=\"33%\"><font size=\"6\"></font></td>\n                            <td width=\"33%\"><font size=\"6\"></font></td>\n                        </tr>\n                    </table>\n                );\n                content_table.push(<text class=\"table_text\">待選取畫面...</text>);\n            }\n            //不隱藏table\n            else if (this.state.table_css_flag == false) {\n                //無個案資料\n                if (this.state.save_content_table[0].length == 0) {\n                    content_table.push(<text class=\"table_text\">目前該個案暫無您的記錄</text>);\n                }\n                else {\n                    //匯入機構住民區塊內容\n                    content_table.push(\n                        <tr>\n                            <td width=\"25%\">\n                                <strong><font size=\"5\">{this.state.save_patient_number}</font></strong>\n                                <br />\n                                <img src={image_patient} alt=\"Background\" class=\"content_image\" />\n                            </td>\n                            <td width=\"25%\"><font size=\"6\">治療人員</font></td>\n                            <td width=\"25%\"><font size=\"6\">照護記錄</font></td>\n                            <td width=\"25%\"><font size=\"6\">藥物</font></td>\n                        </tr>\n                    );\n\n                    for (let i = 0; i < this.state.save_content_table.length; i++) {\n                        if (this.state.save_content_table[i].length == 0) {\n                            break;\n                        }\n                        content_table.push(\n                            <tr class=\"content_table_th\">\n                                <td colspan=\"4\"><strong>{this.state.save_content_table[i][5]}</strong></td>\n                            </tr>\n                        );\n                        content_table.push(\n                            <tr>\n                                <td></td>\n                                <td><font size=\"6\">{this.state.save_content_table[i][0] + this.state.save_content_table[0][1]}</font></td>\n                                <td><font size=\"6\">{this.state.save_content_table[i][3]}</font></td>\n                                <td><font size=\"6\">{this.state.save_content_table[i][4]}</font></td>\n                            </tr>\n                        );\n                    }\n                }\n            }\n        }\n\n        const node_count = [];\n        //顯示授權節點通知數量\n        if (this.state.promise_node_count > 0) {\n            node_count[0] = <span class=\"number_badge\"> {this.state.promise_node_count} </span>;\n        }\n\n        //抵銷重置後第一秒顯示問題\n        if (this.state.account_request_list.length != 0){\n            for(let i=0;i<this.state.account_request_list[this.state.user_account.split(\"t\")[1]].length;i++){\n                a2.push(\n                    <tr>\n                    <td width=\"33%\">\n                        <font size=\"6\">{this.state.account_request_list_name[i]}</font>\n                    </td>\n                    <td width=\"33%\">\n                        <label class=\"container\">1 Month(30 Day)\n                        <input type=\"radio\" name=\"radio\" id=\"mon_1\" value=\"1\"/>\n                        <span class=\"check\"></span>\n                        </label>\n    \n                        <label class=\"container\">2 Month(60 Day)\n                        <input type=\"radio\" name=\"radio\" id=\"mon_2\" value=\"2\"/>\n                        <span class=\"check\"></span>\n                        </label>\n    \n                        <label class=\"container\">3 Month(90 Day)\n                        <input type=\"radio\" name=\"radio\" id=\"mon_3\" value=\"3\"/>\n                        <span class=\"check\"></span>\n                        </label>\n                    </td>\n                    <td width=\"33%\">\n                        <input class=\"request_button_accept\" type=\"button\" id={\"yes\"} value={\"接受\"} name={this.state.account_request_list[this.state.user_account.split(\"t\")[1]][i]} text={this.state.account_request_list[this.state.user_account.split(\"t\")[1]][i]} onClickCapture={this.promise_request}/>\n                        <br />\n                        <input class=\"request_button_refuse\" type=\"button\" id={\"no\"} value={\"拒絕\"} name={this.state.account_request_list[this.state.user_account.split(\"t\")[1]][i]} onClickCapture={this.promise_request}/>\n                    </td>\n                    </tr>\n                );\n            }\n        }\n\n        return (\n            <div class=\"user_main\">\n                <form class=\"form-box\">\n                    <label>\n                        <table class=\"table-box\">\n                            <tr>\n                                <input class=\"button button1\" type=\"button\" value=\"\" />\n                                <td width=\"86%\" align=\"left\"></td>\n                                {/* <td width=\"86%\" align=\"left\"><strong>{moment().format(\"YYYY/MM/DD\")} {new Date().toLocaleTimeString()}</strong></td> */}\n                                <td width=\"1%\" align=\"right\"><button class=\"button main_button5\" type=\"button\" onClickCapture={this.Request}><img src={image} alt=\"Background\" class=\"image_user\" /></button></td>\n                                <td width=\"11%\" align=\"right\">\n                                    {node_count}\n                                    <strong>{this.state.user_name + this.state.user_job}</strong> 歡迎登入\n                                    <input class=\"button main_button6\" type=\"button\" value=\"登出\" onClickCapture={this.Logout} />\n                                </td>\n                            </tr>\n                        </table>\n\n                        <div class=\"article\" align=\"center\">\n                            <strong><font size=\"5\">機構住民紀錄狀態列</font></strong>\n                            <br />\n\n                            <input type=\"checkbox\" id=\"cbox\" value=\"\" onChange={this.clickAllPatient} />\n                            <label for=\"cbox\">顯示個案所有紀錄</label>\n\n                            <select name=\"patient\" onChange={this.changeSelect}>\n                                {patient}\n                            </select>\n\n                            <br /><br />\n\n                            <table class=\"list_table\">\n                                {list_table}\n                            </table>\n                        </div>\n\n                        <div align=\"center\">\n                            <br />\n\n                            <table class=\"content_table\" style={content_table_css_nondisplay}>\n                                {content_table}\n                            </table>\n\n                        </div>\n\n                        <Modal\n                            isOpen={this.state.showModal}\n                            className=\"modal\"\n                        >\n                            <strong><font size=\"6\">節點請求授權申請</font></strong>\n          \n                            <table class=\"request_table\" align=\"center\" border=\"2\" rules=\"rows\">\n                                <tr>\n                                <td>節點\n                                </td>\n                                <td>授權天數\n                                </td>\n                                <td>狀態\n                                </td>\n                                </tr>\n\n                                {a2}\n\n                            </table>\n                            <br />\n                            <button class=\"button_main_back\" onClickCapture={this.CloseModal}>返回</button>\n                        </Modal>\n\n                    </label>\n                </form>\n            </div>\n        );\n    }\n}\nexport default Dr_main;\n","/Users/fota/Documents/dapp-react/client/src/Th_main.js",["213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238"],"import React, { Component } from 'react';\nimport Web3 from 'web3';\nimport { createBrowserHistory } from 'history';\nimport \"./new.css\";\nimport image from './image/user.png';\n\nimport image_arrow from './image/arrow.png';\nimport image_patient from './image/patient.png';\nimport image_D_P from './image/D_P.png';\nimport image_I_P from './image/I_P.png';\nimport image_T_P from './image/T_P.png';\n\nimport Modal from 'react-modal';\n// import { Modal, Button } from 'antd';\nimport moment from \"moment\";\n\nclass Th_main extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            user_account: \"\",\n            user_name: \"\",\n            user_job: \"\",\n            patient_list: [],\n            showModal: false,\n            save_patient_number: \"\",\n            save_patient_id: \"\",\n            save_content_table: [[]],\n            list_patient_record: [[]],\n            table_css_flag: true,\n            promise_node_count: 0,\n            account_request_list: [],\n            account_request_list_name: [],\n            date: new Date()\n        }\n        this.CloseModal = this.CloseModal.bind(this);\n        this.Request = this.Request.bind(this);\n    }\n\n    componentDidMount() {\n        this.timerID = setInterval(() => this.tick(),1000);\n        this.loading();\n    }\n\n    componentWillMount() {\n        clearInterval(this.timerID);\n    }\n\n    tick() {\n    //   this.setState({date: new Date()});\n\n      //get node count\n      fetch('/Get_Promise_node_count', {\n        method: \"POST\",\n        body: JSON.stringify({\n            user_account: this.state.user_account\n        }),\n        // headers: new Headers({\n        //     'Content-Type': 'application/json',\n        //     // 'Authorization': token, /* 把token放在這 */\n        // })\n        headers: {\n          'Content-Type': 'application/json; charset=utf-8'\n        }\n      })\n        .then(res => res.json())\n        .then(res => {\n            this.setState({promise_node_count:res.count});\n        })\n        .catch(err => console.log(err))\n    }\n\n    async loading() {\n        fetch('/LoginState', {\n            method: \"POST\",\n            body: JSON.stringify({\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n            .then(res => res.json())\n            .then(res => {\n                this.setState({ user_account: res.account });\n                this.setState({ user_name: res.name });\n                this.setState({ user_job: res.job });\n\n                if (res.flag == 0) {\n                    const history = createBrowserHistory();\n                    history.push(\"/LoginFail\");\n                    window.location.reload();\n                }\n            })\n            .catch(err => console.log(err))\n\n\n        fetch('/Get_patient_list', {\n            method: \"POST\",\n            body: JSON.stringify({\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n            .then(res => res.json())\n            .then(res => {\n                this.setState({ patient_list: res.patient_list })\n\n            })\n            .catch(err => console.log(err))\n    }\n\n    //登出\n    Logout = () => {\n        fetch('/LoginState', {\n            method: \"POST\",\n            body: JSON.stringify({\n                account: this.state.user_name,\n                state: 0\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n            .then(res => res.text())\n            .then(res => {\n            })\n            .catch(err => console.log(err))\n\n        const history = createBrowserHistory();\n        history.push(\"/\");\n        window.location.reload();\n    }\n\n    //查看個案治療紀錄\n    ClickPatientRecord = (event) => {\n        var list = event.target.id.split(\",\");\n        console.log(list)\n\n        fetch('/CheckBlockDetail', {\n            method: \"POST\",\n            body: JSON.stringify({\n                user_name: this.state.user_name,\n                promise_name: list[0],\n                hash: list[3],\n                user_id: this.state.save_patient_id\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n            .then(res => res.json())\n            .then(res => {\n                if (res.text == \"not promise\") {\n                    this.setState({ table_css_flag: true });\n\n                    //是否需要授權\n                    var yse_no = window.confirm(\"尚未取得對方的授權許可，是否要請求該節點授權？\");\n                    if (yse_no == true)\n                        var resp = window.prompt(\"身分驗證 請輸入密碼：\");\n                    \n                    fetch('/User_Choose_Request', {\n                        method: \"POST\",\n                        body: JSON.stringify({\n                            user_account: this.state.user_account,\n                            user_name: this.state.user_name,\n                            user_job: this.state.user_job,\n                            password: resp,\n                            click_request_name: list[0],\n                            click_request_job: list[1]\n                        }),\n                        // headers: new Headers({\n                        //     'Content-Type': 'application/json',\n                        //     // 'Authorization': token, /* 把token放在這 */\n                        // })\n                        headers: {\n                            'Content-Type': 'application/json; charset=utf-8'\n                        }\n                        })\n                        .then(res => res.json())\n                        .then(res => {\n                            console.log(res);\n                            if (res.text == \"promise check\"){\n                                alert(\"驗證成功 等待對方授權許可...\");\n                            }\n                            else if (res.text == \"double promise\"){\n                                alert(\"已請求該節點 待確認...\");\n                            }\n                            else if (res.text == \"already promise\"){\n                                alert(\"您已授權許可 可進行數據讀取\");\n                            }\n                        })\n                        .catch(err => console.log(err))\n                    \n                }\n                else if (res.text == \"date over\") {\n                    this.setState({ table_css_flag: true });\n\n                    //是否需要授權\n                    var yse_no = window.confirm(\"您的授權已到期，是否要重新請求該節點授權？\");\n                    if (yse_no == true)\n                        window.prompt(\"身分驗證 請輸入密碼：\");\n                }\n                else {\n                    this.setState({ table_css_flag: false });\n                    this.setState({ save_content_table: res.order_detail })\n                    console.log(res.order_detail);\n                }\n            })\n            .catch(err => console.log(err))\n    }\n\n    //授權節點畫面\n    Request() {\n        this.setState({ showModal: true });\n\n        fetch('/User_Request', {\n            method: \"POST\",\n            body: JSON.stringify({\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n              'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n        .then(res => res.json())\n        .then(res => {\n            this.setState({account_request_list:res.account_request_list});\n            this.setState({account_request_list_name:res.account_request_list_name});\n        })\n        .catch(err => console.log(err))\n    }\n\n    CloseModal() {\n        this.setState({ showModal: false });\n    }\n\n    //選取住民觸發讀取區塊內容\n    changeSelect = (event) => {\n        var checkAll = document.getElementById(\"cbox\").checked\n        this.setState({ save_patient_number: event.target.value });\n        this.setState({ save_patient_id: event.target.value });\n        this.setState({ save_content_table: [[]] });\n\n        fetch('/Get_Patient_Block_Content', {\n            method: \"POST\",\n            body: JSON.stringify({\n                user_id: event.target.value\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n            .then(res => res.json())\n            .then(res => {\n                this.setState({ list_patient_record: res.list })\n            })\n            .catch(err => console.log(err))\n\n        // 1.check 顯示個案全記錄\n        if (checkAll == true) {\n            fetch('/Get_All_Patient_Record', {\n                method: \"POST\",\n                body: JSON.stringify({\n                    leader: this.state.user_name,\n                    job: this.state.user_job,\n                    user_id: event.target.value\n                }),\n                // headers: new Headers({\n                //     'Content-Type': 'application/json',\n                //     // 'Authorization': token, /* 把token放在這 */\n                // })\n                headers: {\n                    'Content-Type': 'application/json; charset=utf-8'\n                }\n            })\n                .then(res => res.json())\n                .then(res => {\n                    this.setState({ save_content_table: res.order_detail })\n                })\n                .catch(err => console.log(err))\n\n            this.setState({ table_css_flag: false });\n        }\n        // 2.取消全部顯示 改為下拉選單\n        else\n            this.setState({ table_css_flag: true });\n\n\n        for (let i = 0; i < this.state.patient_list.length - 1; i++) {\n            if (event.target.value == this.state.patient_list[i][0])\n                this.setState({ save_patient_number: this.state.patient_list[i][1] + this.state.patient_list[i][2] })\n        }\n    }\n\n    // 接受/拒絕授權\n    promise_request=(event)=>{\n        var rates = document.getElementsByName('radio');\n        var rate_value;\n\n        //取得天數\n        for(var i = 0; i < rates.length; i++){\n            if(rates[i].checked){\n                rate_value = rates[i].value;\n            }\n        }\n    \n        if (!rate_value && event.target.id == \"yes\"){\n            alert(\"請選擇預授權天數\");\n        }\n        else{\n            fetch('/User_Request', {\n            method: \"POST\",\n            body: JSON.stringify({\n                user_name: this.state.user_name,\n                user_job: this.state.user_job,\n                promise_name: event.target.name,\n                value: event.target.id,\n                promise_mon: rate_value\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n            })\n            .then(res => res.json())\n            .then(res => {\n            })\n            .catch(err => console.log(err))\n\n            if (event.target.id == \"no\"){\n                alert(\"拒絕授權\");\n            }\n            else\n                alert(\"成功授權\");\n        }\n        this.setState({ showModal: false });\n    }\n\n    render() {\n        const list_table = [];\n        const content_table = [];\n        const patient = [];\n        const a2 = [];\n\n        const content_table_css_nondisplay = {\n            width: \"80%\",\n            height: \"100%\"\n        };\n        const content_table_css_display = {\n            width: \"80%\",\n            height: \"100%\",\n            display: \"none\"\n        };\n\n\n        //匯入機構住民區塊\n        for (let i = 0; i < this.state.list_patient_record.length - 1; i++) {\n            //D to P\n            if (this.state.list_patient_record[i][1] == \"醫師\") {\n                list_table.push(\n                    <tr class=\"list_table_th\">\n                        <td colspan=\"3\" height=\"20px\">\n                            <div>\n                                <img src={image_D_P} alt=\"Background\" class=\"list_image\" />\n                            </div>\n                        </td>\n                    </tr>\n                );\n            }\n            //I to P\n            else if (this.state.list_patient_record[i][1] == \"機構管理者\") {\n                list_table.push(\n                    <tr class=\"list_table_th\">\n                        <td colspan=\"3\" height=\"20px\">\n                            <div>\n                                <img src={image_I_P} alt=\"Background\" class=\"list_image\" />\n                            </div>\n                        </td>\n                    </tr>\n                );\n            }\n            //T to P\n            else {\n                list_table.push(\n                    <tr class=\"list_table_th\">\n                        <td colspan=\"3\" height=\"20px\">\n                            <div>\n                                <img src={image_T_P} alt=\"Background\" class=\"list_image\" />\n                            </div>\n                        </td>\n                    </tr>\n                );\n            }\n\n            list_table.push(\n                <tr >\n                    <td colspan=\"2\" width=\"60%\" height=\"10px\" align=\"left\">\n                        {this.state.list_patient_record[i][0]}\n                    </td>\n                    <td width=\"40%\" height=\"10px\" align=\"right\">\n                        {this.state.save_patient_number}\n                    </td>\n                </tr>\n            );\n\n            list_table.push(\n                <tr>\n                    <td colspan=\"2\" width=\"60%\" height=\"10px\" align=\"left\">\n                        {this.state.list_patient_record[i][1]}\n                    </td>\n                </tr>\n            );\n\n            list_table.push(\n                <tr class=\"list_table_th\">\n                    <td colspan=\"3\" height=\"10px\">\n                        <strong>\n                            時間：{this.state.list_patient_record[i][2]}\n                        </strong>\n                    </td>\n                </tr>\n            );\n\n            if (this.state.user_name == this.state.list_patient_record[i][0] && this.state.user_job == this.state.list_patient_record[i][1]){\n                list_table.push(\n                    <tr class=\"list_table_th\">\n                        <td colspan=\"3\">\n                            <input class=\"button main_button7-1\" type=\"button\" id={this.state.list_patient_record[i]} value=\"查看\" onClickCapture={this.ClickPatientRecord} />\n                        </td>\n                    </tr>\n                );\n            }\n            else {\n                list_table.push(\n                    <tr class=\"list_table_th\">\n                        <td colspan=\"3\">\n                            <input class=\"button main_button7-2\" type=\"button\" id={this.state.list_patient_record[i]} value=\"查看\" onClickCapture={this.ClickPatientRecord} />\n                        </td>\n                    </tr>\n                );\n            }\n            \n        }\n\n        //匯入機構住民資料\n        for (let i = 0; i < this.state.patient_list.length - 1; i++) {\n            patient.push(\n                <option value={this.state.patient_list[i][0]}>{this.state.patient_list[i][1] + \" \" + this.state.patient_list[i][2]}</option>\n            );\n        }\n\n        if (this.state.save_content_table.length != 0) {\n            //隱藏table\n            if (this.state.table_css_flag == true) {\n                content_table.push(\n                    <table class=\"content_table\" style={content_table_css_display}>\n                        <tr>\n                            <td>\n                                <strong><font size=\"5\"></font></strong>\n                                <br />\n                                <img src={image_patient} alt=\"Background\" class=\"content_image\" />\n                            </td>\n                            <td><font size=\"6\">治療人員</font></td>\n                            <td><font size=\"6\">照護記錄</font></td>\n                        </tr>\n\n                        <tr class=\"content_table_th\">\n                            <td colspan=\"3\"><strong></strong></td>\n                        </tr>\n\n                        <tr>\n                            <td width=\"33%\"></td>\n                            <td width=\"33%\"><font size=\"6\"></font></td>\n                            <td width=\"33%\"><font size=\"6\"></font></td>\n                        </tr>\n                    </table>\n                );\n                content_table.push(<text class=\"table_text\">待選取畫面...</text>);\n            }\n            //不隱藏table\n            else if (this.state.table_css_flag == false) {\n                //無個案資料\n                if (this.state.save_content_table[0].length == 0) {\n                    content_table.push(<text class=\"table_text\">目前該個案暫無您的記錄</text>);\n                }\n                else {\n                    //匯入機構住民區塊內容\n                    content_table.push(\n                        <tr>\n                            <td width=\"25%\">\n                                <strong><font size=\"5\">{this.state.save_patient_number}</font></strong>\n                                <br />\n                                <img src={image_patient} alt=\"Background\" class=\"content_image\" />\n                            </td>\n                            <td width=\"25%\"><font size=\"6\">治療人員</font></td>\n                            <td width=\"25%\"><font size=\"6\">照護記錄</font></td>\n                            <td width=\"25%\"><font size=\"6\">藥物</font></td>\n                        </tr>\n                    );\n\n                    for (let i = 0; i < this.state.save_content_table.length; i++) {\n                        if (this.state.save_content_table[i].length == 0) {\n                            break;\n                        }\n                        content_table.push(\n                            <tr class=\"content_table_th\">\n                                <td colspan=\"4\"><strong>{this.state.save_content_table[i][5]}</strong></td>\n                            </tr>\n                        );\n                        content_table.push(\n                            <tr>\n                                <td></td>\n                                <td><font size=\"6\">{this.state.save_content_table[i][0] + this.state.save_content_table[0][1]}</font></td>\n                                <td><font size=\"6\">{this.state.save_content_table[i][3]}</font></td>\n                                <td><font size=\"6\">{this.state.save_content_table[i][4]}</font></td>\n                            </tr>\n                        );\n                    }\n                }\n            }\n        }\n\n        const node_count = [];\n        //顯示授權節點通知數量\n        if (this.state.promise_node_count > 0) {\n            node_count[0] = <span class=\"number_badge\"> {this.state.promise_node_count} </span>;\n        }\n\n        //抵銷重置後第一秒顯示問題\n        if (this.state.account_request_list.length != 0){\n            for(let i=0;i<this.state.account_request_list[this.state.user_account.split(\"t\")[1]].length;i++){\n                a2.push(\n                    <tr>\n                    <td width=\"33%\">\n                        <font size=\"6\">{this.state.account_request_list_name[i]}</font>\n                    </td>\n                    <td width=\"33%\">\n                        <label class=\"container\">1 Month(30 Day)\n                        <input type=\"radio\" name=\"radio\" id=\"mon_1\" value=\"1\"/>\n                        <span class=\"check\"></span>\n                        </label>\n    \n                        <label class=\"container\">2 Month(60 Day)\n                        <input type=\"radio\" name=\"radio\" id=\"mon_2\" value=\"2\"/>\n                        <span class=\"check\"></span>\n                        </label>\n    \n                        <label class=\"container\">3 Month(90 Day)\n                        <input type=\"radio\" name=\"radio\" id=\"mon_3\" value=\"3\"/>\n                        <span class=\"check\"></span>\n                        </label>\n                    </td>\n                    <td width=\"33%\">\n                        <input class=\"request_button_accept\" type=\"button\" id={\"yes\"} value={\"接受\"} name={this.state.account_request_list[this.state.user_account.split(\"t\")[1]][i]} text={this.state.account_request_list[this.state.user_account.split(\"t\")[1]][i]} onClickCapture={this.promise_request}/>\n                        <br />\n                        <input class=\"request_button_refuse\" type=\"button\" id={\"no\"} value={\"拒絕\"} name={this.state.account_request_list[this.state.user_account.split(\"t\")[1]][i]} onClickCapture={this.promise_request}/>\n                    </td>\n                    </tr>\n                );\n            }\n        }\n\n        return (\n            <div class=\"user_main\">\n                <form class=\"form-box\">\n                    <label>\n                        <table class=\"table-box\">\n                            <tr>\n                                <input class=\"button button1\" type=\"button\" value=\"\" />\n                                <td width=\"86%\" align=\"left\"></td>\n                                {/* <td width=\"86%\" align=\"left\"><strong>{moment().format(\"YYYY/MM/DD\")} {new Date().toLocaleTimeString()}</strong></td> */}\n                                <td width=\"1%\" align=\"right\"><button class=\"button main_button5\" type=\"button\" onClickCapture={this.Request}><img src={image} alt=\"Background\" class=\"image_user\" /></button></td>\n                                <td width=\"11%\" align=\"right\">\n                                    {node_count}\n                                    <strong>{this.state.user_name + this.state.user_job}</strong> 歡迎登入\n                                    <input class=\"button main_button6\" type=\"button\" value=\"登出\" onClickCapture={this.Logout} />\n                                </td>\n                            </tr>\n                        </table>\n\n                        <div class=\"article\" align=\"center\">\n                            <strong><font size=\"5\">機構住民紀錄狀態列</font></strong>\n                            <br />\n\n                            <input type=\"checkbox\" id=\"cbox\" value=\"\" onChange={this.clickAllPatient} />\n                            <label for=\"cbox\">顯示個案所有紀錄</label>\n\n                            <select name=\"patient\" onChange={this.changeSelect}>\n                                {patient}\n                            </select>\n\n                            <br /><br />\n\n                            <table class=\"list_table\">\n                                {list_table}\n                            </table>\n                        </div>\n\n                        <div align=\"center\">\n                            <br />\n\n                            <table class=\"content_table\" style={content_table_css_nondisplay}>\n                                {content_table}\n                            </table>\n\n                        </div>\n\n                        <Modal\n                            isOpen={this.state.showModal}\n                            className=\"modal\"\n                        >\n                            <strong><font size=\"6\">節點請求授權申請</font></strong>\n          \n                            <table class=\"request_table\" align=\"center\" border=\"2\" rules=\"rows\">\n                                <tr>\n                                <td>節點\n                                </td>\n                                <td>授權天數\n                                </td>\n                                <td>狀態\n                                </td>\n                                </tr>\n\n                                {a2}\n\n                            </table>\n                            <br />\n                            <button class=\"button_main_back\" onClickCapture={this.CloseModal}>返回</button>\n                        </Modal>\n\n                    </label>\n                </form>\n            </div>\n        );\n    }\n}\nexport default Th_main;\n","/Users/fota/Documents/dapp-react/client/src/Co_main.js",["239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256"],"import React, { Component } from 'react';\nimport Web3 from 'web3';\nimport { createBrowserHistory } from 'history';\nimport \"./All_main.css\";\nimport image from './image/user.png';\nimport image_promise from './image/authorize.png';\nimport image_patient_data from './image/patient_data.png';\nimport image_account from './image/account.png';\nimport image_system from './image/system.png';\n\nimport image_arrow from './image/arrow.png';\nimport image_dr from './image/doctor.png';\nimport image_patient from './image/patient.png';\nimport image_th from './image/therapy.png';\nimport image_in from './image/institution.png';\nimport image_contract from './image/contract.png';\n\nimport moment from \"moment\";\n\nclass Co_main extends Component{\n    constructor(props) {\n        super(props);\n        this.state={\n            user_name: \"\",\n            transaction_hash: [],\n            transaction_from_name: [],\n            transaction_from: [],\n            transaction_to_name: [],\n            transaction_to: [],\n            transaction_coin: [],\n            transaction_gas: [],\n            timestamp: [],\n            date: new Date()\n        }\n        \n    }\n\n    componentDidMount() {\n        this.timerID = setInterval(() => this.tick(),1000);\n    }\n\n    componentWillMount() {\n        clearInterval(this.timerID);\n        this.loading()\n    }\n\n    tick() {\n        this.setState({date: new Date()});\n    }\n\n    async loading() {\n        fetch('/LoginState', {\n            method: \"POST\",\n            body: JSON.stringify({\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n              'Content-Type': 'application/json; charset=utf-8'\n            }\n          })\n            .then(res => res.json())\n            .then(res => {\n                this.setState({user_name:res.name});\n                \n                if (res.flag == 0){\n                    const history = createBrowserHistory();\n                    history.push(\"/LoginFail\");\n                    window.location.reload();\n                }\n            })\n            .catch(err => console.log(err))\n\n        fetch('/Get_Block', {\n            method: \"POST\",\n            body: JSON.stringify({\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n            })\n            .then(res => res.json())\n            .then(res => {\n                console.log(res);\n                this.setState({transaction_hash:res.hash});\n                this.setState({transaction_from_name:res.from_name});\n                this.setState({transaction_to_name:res.to_name});\n                this.setState({timestamp:res.timestamp});\n            })\n            .catch(err => console.log(err))\n    }\n\n    //請求他人數據\n    Request=()=>{\n        const history = createBrowserHistory();\n        history.push(\"/user_request\");\n        window.location.reload();\n    }\n\n    //轉帳\n    Transfer=()=>{\n        const history = createBrowserHistory();\n        history.push(\"/Transfer\");\n        window.location.reload();\n    }\n\n    //查帳\n    CheckAccount=()=>{\n        const history = createBrowserHistory();\n        history.push(\"/CheckAccount\");\n        window.location.reload();\n    }\n\n    //登出\n    Logout=()=>{\n        fetch('/LoginState', {\n            method: \"POST\",\n            body: JSON.stringify({\n                account: this.state.user_name,\n                state: 0\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n              'Content-Type': 'application/json; charset=utf-8'\n            }\n          })\n            .then(res => res.text())\n            .then(res => {\n            })\n            .catch(err => console.log(err))\n\n        const history = createBrowserHistory();\n        history.push(\"/\");\n        window.location.reload();\n    }\n\n    render(){\n        const a1 = [];\n\n        for(let i=0;i<this.state.transaction_hash.length;i++){\n            // 情況一：醫生->治療師/機構\n            if (this.state.transaction_from_name[i] == \"Dr.A\" || \n                this.state.transaction_from_name[i] == \"Dr.B\" || \n                this.state.transaction_from_name[i] == \"Dr.C\"   ){\n                if (this.state.transaction_to_name[i] == \"PT\" ||\n                    this.state.transaction_to_name[i] == \"OT\" ||\n                    this.state.transaction_to_name[i] == \"ST\"   ){\n                        a1.push(\n                            <tr class=\"Dr_In_form-box\">\n                                <tr>\n                                <td colspan=\"3\" align=\"center\">\n                                        <strong>\n                                            交易{[i+1]}(Hash)：  \n                                        </strong>\n                                        <font class=\"text\">{this.state.transaction_hash[i]}</font>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td width=\"30%\" align=\"center\">\n                                        <img src={image_dr} alt=\"Background\" class=\"image_block\"/>\n                                        <br />\n                                        <font>{this.state.transaction_from_name[i]}</font>\n                                    </td>\n                                    <td width=\"30%\" align=\"center\">\n                                        <img src={image_arrow} alt=\"Background\" class=\"image_arrow\"/>\n                                        <br />\n                                        <font>請求資料</font>\n                                    </td>\n                                    <td width=\"33%\" align=\"center\">\n                                        <img src={image_th} alt=\"Background\" class=\"image_block\"/>\n                                        <br />\n                                        <font>{this.state.transaction_to_name[i]}</font>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td colspan=\"3\" align=\"right\">\n                                        {this.state.timestamp[i]}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td colspan=\"3\">\n                                        <input class=\"button main_button7\" type=\"button\" id={this.state.transaction_hash[i]+\" \"+this.state.transaction_from_name[i]} value=\"檢視\" onClickCapture={this.CheckBlockDetail} />\n                                    </td>\n                                </tr>\n                            </tr>\n                        );\n                }\n                else if (this.state.transaction_to_name[i] == \"InstitutionA\"){\n                    a1.push(\n                        <tr class=\"Dr_In_form-box\">\n                            <tr>\n                                <td colspan=\"3\" align=\"center\">\n                                    <strong>\n                                        交易{[i+1]}(Hash)：  \n                                    </strong>\n                                    <font class=\"text\">{this.state.transaction_hash[i]}</font>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td width=\"30%\" align=\"center\">\n                                    <img src={image_dr} alt=\"Background\" class=\"image_block\"/>\n                                    <br />\n                                    <font>{this.state.transaction_from_name[i]}</font>\n                                </td>\n                                <td width=\"30%\" align=\"center\">\n                                    <img src={image_arrow} alt=\"Background\" class=\"image_arrow\"/>\n                                    <br />\n                                    <font>看診</font>\n                                </td>\n                                <td width=\"33%\" align=\"center\">\n                                    <img src={image_patient} alt=\"Background\" class=\"image_block\"/>\n                                    <br />\n                                    <font>{this.state.transaction_to_name[i]}</font>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td colspan=\"3\" align=\"right\">\n                                    {this.state.timestamp[i]}\n                                </td>\n                            </tr>\n                            <tr>\n                                <td colspan=\"3\">\n                                    <input class=\"button main_button7\" type=\"button\" id={this.state.transaction_hash[i]+\" \"+this.state.transaction_from_name[i]} value=\"檢視\" onClickCapture={this.CheckBlockDetail} />\n                                </td>\n                            </tr>\n                        </tr>\n                    );\n                }\n            }\n            //情況二：治療師->醫生/機構\n            else if (this.state.transaction_from_name[i] == \"PT\" ||\n                     this.state.transaction_from_name[i] == \"OT\" ||\n                     this.state.transaction_from_name[i] == \"ST\"   ){\n                if (this.state.transaction_to_name[i] == \"Dr.A\" || \n                    this.state.transaction_to_name[i] == \"Dr.B\" || \n                    this.state.transaction_to_name[i] == \"Dr.C\"   ){\n                        a1.push(\n                            <tr class=\"Dr_In_form-box\">\n                                <tr>\n                                    <td colspan=\"3\" align=\"center\">\n                                        <strong>\n                                            交易{[i+1]}(Hash)：  \n                                        </strong>\n                                        <font class=\"text\">{this.state.transaction_hash[i]}</font>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td width=\"30%\" align=\"center\">\n                                        <img src={image_th} alt=\"Background\" class=\"image_block\"/>\n                                        <br />\n                                        <font>{this.state.transaction_from_name[i]}</font>\n                                    </td>\n                                    <td width=\"30%\" align=\"center\">\n                                        <img src={image_arrow} alt=\"Background\" class=\"image_arrow\"/>\n                                        <br />\n                                        <font>請求資料</font>\n                                    </td>\n                                    <td width=\"33%\" align=\"center\">\n                                        <img src={image_dr} alt=\"Background\" class=\"image_block\"/>\n                                        <br />\n                                        <font> {this.state.transaction_to_name[i]}</font>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td colspan=\"3\" align=\"right\">\n                                        {this.state.timestamp[i]}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td colspan=\"3\">\n                                        <input class=\"button main_button7\" type=\"button\" id={this.state.transaction_hash[i]+\" \"+this.state.transaction_from_name[i]} value=\"檢視\" onClickCapture={this.CheckBlockDetail} />\n                                    </td>\n                                </tr>\n                            </tr>\n                        );\n                }\n                else if (this.state.transaction_to_name[i] == \"InstitutionA\"){\n                    a1.push(\n                        <tr class=\"Dr_In_form-box\">\n                            <tr>\n                                <td colspan=\"3\" align=\"center\">\n                                    <strong>\n                                        交易{[i+1]}(Hash)：\n                                    </strong>\n                                    <font class=\"text\">{this.state.transaction_hash[i]}</font>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td width=\"30%\" align=\"center\">\n                                    <img src={image_th} alt=\"Background\" class=\"image_block\"/>\n                                    <br />\n                                    <font>{this.state.transaction_from_name[i]}</font>\n                                </td>\n                                <td width=\"30%\" align=\"center\">\n                                    <img src={image_arrow} alt=\"Background\" class=\"image_arrow\"/>\n                                    <br />\n                                    <font>治療處方</font>\n                                </td>\n                                <td width=\"33%\" align=\"center\">\n                                    <img src={image_patient} alt=\"Background\" class=\"image_block\"/>\n                                    <br />\n                                    <font> {this.state.transaction_to_name[i]}</font>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td colspan=\"3\" align=\"right\">\n                                    {this.state.timestamp[i]}\n                                </td>\n                            </tr>\n                            <tr>\n                                <td colspan=\"3\">\n                                    <input class=\"button main_button7\" type=\"button\" id={this.state.transaction_hash[i]+\" \"+this.state.transaction_from_name[i]} value=\"檢視\" onClickCapture={this.CheckBlockDetail} />\n                                </td>\n                            </tr>\n                        </tr>\n                    );\n                }\n            }\n            //情況三：機構->機構\n            else if (this.state.transaction_from_name[i] == \"InstitutionA\" && this.state.transaction_to_name[i] == \"InstitutionA\"){\n                a1.push(\n                    <tr class=\"Dr_In_form-box\">\n                        <tr>\n                            <td colspan=\"33\" align=\"center\">\n                                <strong>\n                                    交易{[i+1]}(Hash)：  \n                                </strong>\n                                <font class=\"text\">{this.state.transaction_hash[i]}</font>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width=\"30%\" align=\"center\">\n                                <img src={image_in} alt=\"Background\" class=\"image_block\"/>\n                                <br />\n                                <font>{this.state.transaction_from_name[i]}</font>\n                            </td>\n                            <td width=\"30%\" align=\"center\">\n                                <img src={image_arrow} alt=\"Background\" class=\"image_arrow\"/>\n                                <br />\n                                <font>日常照護</font>\n                            </td>\n                            <td width=\"33%\" align=\"center\">\n                                <img src={image_patient} alt=\"Background\" class=\"image_block\"/>\n                                <br />\n                                <font> {this.state.transaction_to_name[i]}</font>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"3\" align=\"right\">\n                                {this.state.timestamp[i]}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"3\">\n                                <input class=\"button main_button7\" type=\"button\" id={this.state.transaction_hash[i]+\" \"+this.state.transaction_from_name[i]} value=\"檢視\" onClickCapture={this.CheckBlockDetail} />\n                            </td>\n                        </tr>\n                    </tr>\n                );\n            }\n            //情況四：合約\n            else {\n                a1.push(\n                    <tr class=\"Detail_form-box\">\n                        <tr>\n                            <td align=\"center\">\n                                <strong>\n                                    交易{[i+1]}(Hash)：\n                                </strong>\n                                <font class=\"text\">{this.state.transaction_hash[i]}</font>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td align=\"center\">\n                                <img src={image_contract} alt=\"Background\" class=\"image_block\"/>\n                                <br />\n                                <font class=\"text_contract\">合約部署</font>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td align=\"right\">\n                                {this.state.timestamp[i]}\n                            </td>\n                        </tr>\n                    </tr>\n                );\n            }\n        }\n\n        const a2 = [];\n        let j = 0;\n        for(let i=a1.length;i>=0;i--){\n            a2[j] = a1[i];\n            j++;\n        }\n\n        // const past_record = [[]];\n        // //顯示過往紀錄\n        // if (this.state.order_detail[0].length != 0){\n        //     for (let i=0;i<this.state.order_detail.length-1;i++){\n        //         past_record[i].push(\n        //             <tr>\n        //                 <td>{this.state.order_detail[i][0]}</td>\n        //                 <td>{this.state.order_detail[i][1]}</td>\n        //                 <td>{this.state.order_detail[i][2]}</td>\n        //                 <td>{this.state.order_detail[i][3]}</td>\n        //                 <td>{this.state.order_detail[i][4]}</td>\n        //             </tr>\n        //         );\n        //         if (this.state.order_detail.length != i){\n        //             past_record.push([]);\n        //         }\n        //     }\n        // }\n        \n        return(\n            <div class=\"user_main\">\n                <form class=\"form-box\">\n                    <label>\n                        <table class=\"table-box\">\n                            <tr>\n                                <input class=\"button button1\" type=\"button\" value=\"\" />\n                                <td width=\"85%\" align=\"left\"><strong>{moment().format(\"YYYY/MM/DD\")} {new Date().toLocaleTimeString()}</strong></td>\n                                <td width=\"1%\" align=\"right\"><img src={image} alt=\"Background\" class=\"image\"/></td>\n                                <td width=\"12%\" align=\"right\">\n                                    <strong>{this.state.user_name}</strong> 歡迎登入\n                                    <input class=\"button main_button6\" type=\"button\" value=\"登出\" onClickCapture={this.Logout} />\n                                </td>\n                            </tr>\n                        </table>\n\n                        <section>\n                            <article class=\"article\">\n                            <table width=\"100%\" height=\"100%\">\n                                <tr height=\"50%\">\n                                    <td align=\"center\" width=\"50%\">\n                                        <input class=\"main_button2\" type=\"image\" src={image_promise} alt=\"授權節點\" onClickCapture={this.Request}/><br />\n                                        <div class=\"button_name\">授權節點</div>\n                                    </td>\n                                    <td align=\"center\">\n                                        <input class=\"main_button\" type=\"image\" src={image_patient_data} alt=\"機構住民資料\" onClickCapture={this.Transfer}/><br />\n                                        <div class=\"button_name\">機構住民資料</div>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td align=\"center\">\n                                        <input class=\"main_button\" type=\"image\" src={image_account} alt=\"查帳\" onClickCapture={this.CheckAccount}/><br />\n                                        <div class=\"button_name\">查帳</div>\n                                    </td>\n                                    <td align=\"center\">\n                                        <input class=\"main_button\" type=\"image\" src={image_system} alt=\"專責制度概況\" onClickCapture={this.System}/><br />\n                                        <div class=\"button_name\">專責制度概況</div>\n                                    </td>\n                                </tr>\n                            </table>\n                            </article>\n                        </section>\n\n                        <div class=\"block_label\">區塊狀態列</div>\n\n                        \n                        \n                        <div class=\"block_detail\">\n                            <table>\n                                {a2}\n                            </table>\n                        </div>\n\n                        {/* <nav class=\"nav\">\n                            <marquee direction=\"right\" height=\"auto\" scrollamount=\"10\" behavior=\"alternate\">！！！疫情期間出入請配戴口罩，勤洗手！！！</marquee>\n                        </nav> */}\n                        \n                    </label>\n                </form>\n            </div>       \n        );\n    }\n}\nexport default Co_main;\n","/Users/fota/Documents/dapp-react/client/src/System_apply.js",["257","258","259","260","261","262","263"],"import React, { Component } from 'react';\nimport Web3 from 'web3';\nimport { createBrowserHistory } from 'history';\nimport \"./System_apply.css\";\n\nclass System_apply extends Component{\n  constructor(props) {\n    super(props);\n    this.apply_account = this.apply_account.bind(this);\n    this.send_apply = this.send_apply.bind(this);\n    this.state = {\n      ch1: \"\",\n      user_account: \"\",\n      permission: 0,\n      account_name_list: [],\n      ch2: \"\"\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  componentWillMount() {\n    this.loadBlockchainData()\n  }\n\n  async loadBlockchainData() {\n    fetch('/LoginState', {\n      method: \"POST\",\n      body: JSON.stringify({\n      }),\n      // headers: new Headers({\n      //     'Content-Type': 'application/json',\n      //     // 'Authorization': token, /* 把token放在這 */\n      // })\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      }\n    })\n      .then(res => res.json())\n      .then(res => {\n          this.setState({user_account:res.account});\n          this.setState({ch1:res.name});\n          this.setState({permission:res.permission});\n          \n          if (res == \"\"){\n              const history = createBrowserHistory();\n              history.push(\"/LoginFail\");\n              window.location.reload();\n          }\n      })\n      .catch(err => console.log(err))\n\n      fetch('/Get_Information', {\n        method: \"POST\",\n        body: JSON.stringify({\n          getname: 1\n        }),\n        // headers: new Headers({\n        //     'Content-Type': 'application/json',\n        //     // 'Authorization': token, /* 把token放在這 */\n        // })\n        headers: {\n          'Content-Type': 'application/json; charset=utf-8'\n        }\n      })\n        .then(res => res.json())\n        .then(res => {\n            this.setState({account_name_list:res.name});\n        })\n        .catch(err => console.log(err))\n  }\n\n  apply_account(event) {\n    // console.log(event.target.value)\n    if (this.state.ch2 == event.target.value)\n      this.setState({ch2:\"\"});\n    else\n      this.setState({ch2:event.target.value});\n  }\n\n  send_apply(event) {\n    if (this.state.ch1 == \"\" || this.state.ch2 == \"\"){\n      alert(\"請選取申請人資料！！！\");\n    }\n    else{\n      fetch('/Apply_State', {\n        method: \"POST\",\n        body: JSON.stringify({\n          user_name: this.state.ch1,\n          ch2: this.state.ch2,\n          permission: this.state.permission\n        }),\n        // headers: new Headers({\n        //     'Content-Type': 'application/json',\n        //     // 'Authorization': token, /* 把token放在這 */\n        // })\n        headers: {\n          'Content-Type': 'application/json; charset=utf-8'\n        }\n      })\n        .then(res => res.json())\n        .then(res => {\n          alert(res.text);\n          \n\n          const timer = setTimeout(() => {\n            const history = createBrowserHistory();\n\n            history.push(\"/System\");\n            window.location.reload();\n          }, 100);\n          return () => clearTimeout(timer);\n\n        })\n        .catch(err => console.log(err))\n\n\n    }\n    \n  }\n\n  back=()=>{\n    const history = createBrowserHistory();\n\n    history.push(\"/System\");\n    window.location.reload();\n  }\n\n  render() {\n    const c1 = [];\n    const c2 = [];\n    const a1 = [];\n\n    const style = {\n      backgroundColor: \"#dddbdbc4\",\n      color: \"black\",\n      fontFamily: \"Arial\",\n      fontSize: \"20px\",\n      textAlign: \"center\",\n      height: \"100vh\"\n    };\n\n    // console.log(this.state.account_name_list);\n    if (this.state.account_name_list.length != 0){\n      for(let i=0;i<this.state.account_name_list.length;i++){\n          a1.push(\n            <input class=\"request_button\" type=\"button\" value={this.state.account_name_list[i]} onClickCapture={this.apply_account}/>\n          );\n        \n      }\n    }\n\n    if (this.state.permission == 1){\n      c1.push(\n        <input \n              type=\"text\"\n              id=\"\"\n              name=\"\"\n              class=\"system_apply_form_input\"\n              value={this.state.ch1}\n              disabled\n          />\n      );\n      c2.push(\n        <input \n              type=\"text\"\n              id=\"\"\n              name=\"\"\n              class=\"system_apply_form_input\"\n              value={this.state.ch2}\n              disabled\n          />\n      );\n    }\n    else{\n      c1.push(\n        <input \n              type=\"text\"\n              id=\"\"\n              name=\"\"\n              class=\"system_apply_form_input\"\n              value={this.state.ch2}\n              disabled\n          />\n      );\n      c2.push(\n        <input \n              type=\"text\"\n              id=\"\"\n              name=\"\"\n              class=\"system_apply_form_input\"\n              value={this.state.ch1}\n              disabled\n          />\n      );\n    }\n\n    return (\n      <div style={style}>\n        <label>\n          <br /><br />\n          <strong><font size=\"6\">醫療機構(乙方)：</font></strong>\n          {c1}\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n\n          <strong><font size=\"6\">照護機構(丙方)：</font></strong>\n          {c2}\n          <br />\n          <strong><font size=\"6\">選取對象申請人</font></strong>\n          <form class=\"system-apply-form-box\">\n            <input class=\"system_apply_button_x\" type=\"button\"/><br />\n            {a1}\n          </form>\n          <br />\n\n          <input class=\"system_apply_button2\" type=\"button\" value=\"送出\" onClickCapture={this.send_apply} />\n          <input class=\"system_apply_button_back\" type=\"button\" value=\"返回\" onClickCapture={this.back} />\n\n        </label>\n        \n      </div>\n    );\n  }\n}\nexport default System_apply;","/Users/fota/Documents/dapp-react/client/src/System_Napply.js",["264","265","266","267","268","269"],"import React,{ Component } from 'react';\nimport Web3 from 'web3';\nimport { createBrowserHistory } from 'history';\nimport \"./System_Napply.css\";\n\nclass System_Napply extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { \n            name: \"\",\n            account: \"\",\n            permission: 0,\n            ch: [[],[]],\n            check: []\n        }\n    }\n\n    componentWillMount() {\n        this.load()\n    }\n\n    async load() {\n        var web3 = new Web3();\n        web3.setProvider(new web3.providers.HttpProvider('http://localhost:7545'));\n        \n        fetch('/LoginState', {\n          method: \"POST\",\n          body: JSON.stringify({\n          }),\n          // headers: new Headers({\n          //     'Content-Type': 'application/json',\n          //     // 'Authorization': token, /* 把token放在這 */\n          // })\n          headers: {\n            'Content-Type': 'application/json; charset=utf-8'\n          }\n        })\n          .then(res => res.json())\n          .then(res => {\n              this.setState({name:res.name});\n              this.setState({account:res.account});\n              this.setState({permission:res.permission});\n              \n              if (res == \"\"){\n                  const history = createBrowserHistory();\n                  history.push(\"/LoginFail\");\n                  window.location.reload();\n              }\n          })\n          .catch(err => console.log(err))\n\n          fetch('/Get_System', {\n            method: \"POST\",\n            body: JSON.stringify({\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n              'Content-Type': 'application/json; charset=utf-8'\n            }\n          })\n            .then(res => res.json())\n            .then(res => {\n              this.setState({ch:res.ch});\n              this.setState({check:res.check});\n            })\n            .catch(err => console.log(err))\n\n            \n    }\n\n  back=()=>{\n    const history = createBrowserHistory();\n\n    if (this.state.permission == 1)\n    {\n      history.push(\"/sDr_main\");\n      window.location.reload();\n    }\n    else if (this.state.permission == 2){\n      history.push(\"/In_main\");\n      window.location.reload();\n    }\n    else if (this.state.permission == 3){\n      history.push(\"/Th_main\");\n      window.location.reload();\n    }\n    else if (this.state.permission == 4){\n      history.push(\"/Co_main\");\n      window.location.reload();\n    }\n    else if (this.state.permission == 0){\n      history.push(\"/management_main\");\n      window.location.reload();\n    }\n  }\n\n  render() {\n    const a1 = [];\n\n    for (let i=0;i<this.state.ch[0].length;i++){\n      a1.push(\n        <tr class=\"system_table2-box\">\n          <td width=\"10%\"><strong><font size=\"5\">專責醫師：</font></strong></td>\n          <td><strong><font size=\"5\">{this.state.ch[0][i]}</font></strong></td>\n          <td rowspan=\"2\" align=\"center\"><strong><font size=\"5\">{this.state.check[i]}</font></strong></td>\n        </tr>\n      );\n      a1.push(\n        <tr class=\"system_table2-box\">\n          <td><strong><font size=\"5\">機構：</font></strong></td>\n          <td width=\"500\"><strong><font size=\"5\">{this.state.ch[1][i]}</font></strong></td>\n        </tr>\n  );\n    }\n    \n    return (\n      <div>\n        <table class=\"system_N_table-box\">\n            <tr>\n              <td width=\"5%\"></td>\n              <td width=\"10%\" align=\"center\"><strong><font size=\"6\">申請人</font></strong></td>\n              <td width=\"40%\" align=\"center\"><strong><font size=\"6\">申請進度</font></strong></td>\n            </tr>\n\n            {a1}\n\n        </table>\n\n        <label>\n          <input class=\"button button1\" type=\"button\" value=\"\" /><br />\n          <input class=\"system_Napply_back\" type=\"button\" value=\"返回\" onClickCapture={this.back} />\n        </label>\n\n      </div>\n    );\n  }\n\n}\n\nexport default System_Napply;","/Users/fota/Documents/dapp-react/client/src/test.js",["270","271"],"import React, { Component } from 'react';\nimport getWeb3 from \"./getWeb3\";\nimport moment from \"moment\";\n\nclass test extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: new Date()\n    }\n    this.test = this.test.bind(this);\n    this.testAsync = this.testAsync.bind(this);\n    this.latency = this.latency.bind(this);\n  }\n\n  componentDidMount() {\n  }\n\n  componentWillMount() {\n  }\n\n  async test(event) {\n    var time = event.target.id;\n    var random = Math.floor(Math.random() * 501);\n\n    for (let i=0;i<time;i++){\n      await this.testAsync(i,i*12);\n\n      // const web3 = await getWeb3();\n      // var a = await web3.eth.getBlock(0)\n      // web3.eth.getBlock(0).then(console.log);\n      // console.log(i);\n    }\n  }\n\n  latency() {\n    fetch('./test', {\n      method: \"POST\",\n      body: JSON.stringify({\n      }),\n      headers: {\n          'Content-Type': 'application/json; charset=utf-8'\n      }\n    })\n    .then(res => res.json())\n    .then(res => {\n\n    })\n    .catch(err => console.log(err))\n  }\n\n  testAsync(i,latency){\n    \n    return new Promise((resolve,reject)=>{\n        //here our function should be implemented \n        setTimeout(()=>{\n            //-----------------do-----------------\n            fetch('/Transaction', {\n              method: \"POST\",\n              body: JSON.stringify({\n                account_from: 'account9',\n                account_to: 'account0',\n                coin: 0\n              }),\n              headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n              }\n            })\n            .then(res => res.json())\n            .then(res => {\n              console.log(\"讀取第 \"+i+\" 次區塊\");\n              console.log(moment().format(\"ss.SSS\"));\n\n            })\n            .catch(err => console.log(err))\n            //--------------------------------------------\n            resolve();\n        ;} , latency\n        );\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <input type=\"button\" id=\"200\" value=\"測試200\" onClickCapture={this.test} />\n        <input type=\"button\" id=\"400\" value=\"測試400\" onClickCapture={this.test} />\n        <input type=\"button\" id=\"600\" value=\"測試600\" onClickCapture={this.test} />\n        <input type=\"button\" id=\"800\" value=\"測試800\" onClickCapture={this.test} />\n        <input type=\"button\" id=\"1000\" value=\"測試1000\" onClickCapture={this.test} />\n        <input type=\"button\" id=\"\" value=\"計算延遲\" onClickCapture={this.latency} />\n      </div>\n    );\n  }\n}\n\nexport default test;","/Users/fota/Documents/dapp-react/client/src/In_main.js",["272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297"],"import React, { Component } from 'react';\nimport Web3 from 'web3';\nimport { createBrowserHistory } from 'history';\nimport \"./new.css\";\nimport image from './image/user.png';\n\nimport image_arrow from './image/arrow.png';\nimport image_patient from './image/patient.png';\nimport image_D_P from './image/D_P.png';\nimport image_I_P from './image/I_P.png';\nimport image_T_P from './image/T_P.png';\n\nimport Modal from 'react-modal';\n// import { Modal, Button } from 'antd';\nimport moment from \"moment\";\n\nclass In_main extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            user_account: \"\",\n            user_name: \"\",\n            user_job: \"\",\n            patient_list: [],\n            showModal: false,\n            save_patient_number: \"\",\n            save_patient_id: \"\",\n            save_content_table: [[]],\n            list_patient_record: [[]],\n            table_css_flag: true,\n            promise_node_count: 0,\n            account_request_list: [],\n            account_request_list_name: [],\n            date: new Date()\n        }\n        this.CloseModal = this.CloseModal.bind(this);\n        this.Request = this.Request.bind(this);\n    }\n\n    componentDidMount() {\n        this.timerID = setInterval(() => this.tick(),1000);\n        this.loading();\n    }\n\n    componentWillMount() {\n        clearInterval(this.timerID);\n    }\n\n    tick() {\n    //   this.setState({date: new Date()});\n\n      //get node count\n      fetch('/Get_Promise_node_count', {\n        method: \"POST\",\n        body: JSON.stringify({\n            user_account: this.state.user_account\n        }),\n        // headers: new Headers({\n        //     'Content-Type': 'application/json',\n        //     // 'Authorization': token, /* 把token放在這 */\n        // })\n        headers: {\n          'Content-Type': 'application/json; charset=utf-8'\n        }\n      })\n        .then(res => res.json())\n        .then(res => {\n            this.setState({promise_node_count:res.count});\n        })\n        .catch(err => console.log(err))\n    }\n\n    async loading() {\n        fetch('/LoginState', {\n            method: \"POST\",\n            body: JSON.stringify({\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n            .then(res => res.json())\n            .then(res => {\n                this.setState({ user_account: res.account });\n                this.setState({ user_name: res.name });\n                this.setState({ user_job: res.job });\n\n                if (res.flag == 0) {\n                    const history = createBrowserHistory();\n                    history.push(\"/LoginFail\");\n                    window.location.reload();\n                }\n            })\n            .catch(err => console.log(err))\n\n\n        fetch('/Get_patient_list', {\n            method: \"POST\",\n            body: JSON.stringify({\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n            .then(res => res.json())\n            .then(res => {\n                this.setState({ patient_list: res.patient_list })\n\n            })\n            .catch(err => console.log(err))\n    }\n\n    //登出\n    Logout = () => {\n        fetch('/LoginState', {\n            method: \"POST\",\n            body: JSON.stringify({\n                account: this.state.user_name,\n                state: 0\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n            .then(res => res.text())\n            .then(res => {\n            })\n            .catch(err => console.log(err))\n\n        const history = createBrowserHistory();\n        history.push(\"/\");\n        window.location.reload();\n    }\n\n    //查看個案治療紀錄\n    ClickPatientRecord = (event) => {\n        var list = event.target.id.split(\",\");\n        console.log(list)\n\n        fetch('/CheckBlockDetail', {\n            method: \"POST\",\n            body: JSON.stringify({\n                user_name: this.state.user_name,\n                promise_name: list[0],\n                hash: list[3],\n                user_id: this.state.save_patient_id\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n            .then(res => res.json())\n            .then(res => {\n                if (res.text == \"not promise\") {\n                    this.setState({ table_css_flag: true });\n\n                    //是否需要授權\n                    var yse_no = window.confirm(\"尚未取得對方的授權許可，是否要請求該節點授權？\");\n                    if (yse_no == true)\n                        var resp = window.prompt(\"身分驗證 請輸入密碼：\");\n                    \n                    fetch('/User_Choose_Request', {\n                        method: \"POST\",\n                        body: JSON.stringify({\n                            user_account: this.state.user_account,\n                            user_name: this.state.user_name,\n                            user_job: this.state.user_job,\n                            password: resp,\n                            click_request_name: list[0],\n                            click_request_job: list[1]\n                        }),\n                        // headers: new Headers({\n                        //     'Content-Type': 'application/json',\n                        //     // 'Authorization': token, /* 把token放在這 */\n                        // })\n                        headers: {\n                            'Content-Type': 'application/json; charset=utf-8'\n                        }\n                        })\n                        .then(res => res.json())\n                        .then(res => {\n                            console.log(res);\n                            if (res.text == \"promise check\"){\n                                alert(\"驗證成功 等待對方授權許可...\");\n                            }\n                            else if (res.text == \"double promise\"){\n                                alert(\"已請求該節點 待確認...\");\n                            }\n                            else if (res.text == \"already promise\"){\n                                alert(\"您已授權許可 可進行數據讀取\");\n                            }\n                        })\n                        .catch(err => console.log(err))\n                    \n                }\n                else if (res.text == \"date over\") {\n                    this.setState({ table_css_flag: true });\n\n                    //是否需要授權\n                    var yse_no = window.confirm(\"您的授權已到期，是否要重新請求該節點授權？\");\n                    if (yse_no == true)\n                        window.prompt(\"身分驗證 請輸入密碼：\");\n                }\n                else {\n                    this.setState({ table_css_flag: false });\n                    this.setState({ save_content_table: res.order_detail })\n                    console.log(res.order_detail);\n                }\n            })\n            .catch(err => console.log(err))\n    }\n\n    //授權節點畫面\n    Request() {\n        this.setState({ showModal: true });\n\n        fetch('/User_Request', {\n            method: \"POST\",\n            body: JSON.stringify({\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n              'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n        .then(res => res.json())\n        .then(res => {\n            this.setState({account_request_list:res.account_request_list});\n            this.setState({account_request_list_name:res.account_request_list_name});\n        })\n        .catch(err => console.log(err))\n    }\n\n    CloseModal() {\n        this.setState({ showModal: false });\n    }\n\n    //選取住民觸發讀取區塊內容\n    changeSelect = (event) => {\n        var checkAll = document.getElementById(\"cbox\").checked\n        this.setState({ save_patient_number: event.target.value });\n        this.setState({ save_patient_id: event.target.value });\n        this.setState({ save_content_table: [[]] });\n\n        fetch('/Get_Patient_Block_Content', {\n            method: \"POST\",\n            body: JSON.stringify({\n                user_id: event.target.value\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n        })\n            .then(res => res.json())\n            .then(res => {\n                this.setState({ list_patient_record: res.list })\n            })\n            .catch(err => console.log(err))\n\n        // 1.check 顯示個案全記錄\n        if (checkAll == true) {\n            fetch('/Get_All_Patient_Record', {\n                method: \"POST\",\n                body: JSON.stringify({\n                    leader: this.state.user_name,\n                    job: this.state.user_job,\n                    user_id: event.target.value\n                }),\n                // headers: new Headers({\n                //     'Content-Type': 'application/json',\n                //     // 'Authorization': token, /* 把token放在這 */\n                // })\n                headers: {\n                    'Content-Type': 'application/json; charset=utf-8'\n                }\n            })\n                .then(res => res.json())\n                .then(res => {\n                    this.setState({ save_content_table: res.order_detail })\n                })\n                .catch(err => console.log(err))\n\n            this.setState({ table_css_flag: false });\n        }\n        // 2.取消全部顯示 改為下拉選單\n        else\n            this.setState({ table_css_flag: true });\n\n\n        for (let i = 0; i < this.state.patient_list.length - 1; i++) {\n            if (event.target.value == this.state.patient_list[i][0])\n                this.setState({ save_patient_number: this.state.patient_list[i][1] + this.state.patient_list[i][2] })\n        }\n    }\n\n    // 接受/拒絕授權\n    promise_request=(event)=>{\n        var rates = document.getElementsByName('radio');\n        var rate_value;\n\n        //取得天數\n        for(var i = 0; i < rates.length; i++){\n            if(rates[i].checked){\n                rate_value = rates[i].value;\n            }\n        }\n    \n        if (!rate_value && event.target.id == \"yes\"){\n            alert(\"請選擇預授權天數\");\n        }\n        else{\n            fetch('/User_Request', {\n            method: \"POST\",\n            body: JSON.stringify({\n                user_name: this.state.user_name,\n                user_job: this.state.user_job,\n                promise_name: event.target.name,\n                value: event.target.id,\n                promise_mon: rate_value\n            }),\n            // headers: new Headers({\n            //     'Content-Type': 'application/json',\n            //     // 'Authorization': token, /* 把token放在這 */\n            // })\n            headers: {\n                'Content-Type': 'application/json; charset=utf-8'\n            }\n            })\n            .then(res => res.json())\n            .then(res => {\n            })\n            .catch(err => console.log(err))\n\n            if (event.target.id == \"no\"){\n                alert(\"拒絕授權\");\n            }\n            else\n                alert(\"成功授權\");\n        }\n        this.setState({ showModal: false });\n    }\n\n    render() {\n        const list_table = [];\n        const content_table = [];\n        const patient = [];\n        const a2 = [];\n\n        const content_table_css_nondisplay = {\n            width: \"80%\",\n            height: \"100%\"\n        };\n        const content_table_css_display = {\n            width: \"80%\",\n            height: \"100%\",\n            display: \"none\"\n        };\n\n\n        //匯入機構住民區塊\n        for (let i = 0; i < this.state.list_patient_record.length - 1; i++) {\n            //D to P\n            if (this.state.list_patient_record[i][1] == \"醫師\") {\n                list_table.push(\n                    <tr class=\"list_table_th\">\n                        <td colspan=\"3\" height=\"20px\">\n                            <div>\n                                <img src={image_D_P} alt=\"Background\" class=\"list_image\" />\n                            </div>\n                        </td>\n                    </tr>\n                );\n            }\n            //I to P\n            else if (this.state.list_patient_record[i][1] == \"機構管理者\") {\n                list_table.push(\n                    <tr class=\"list_table_th\">\n                        <td colspan=\"3\" height=\"20px\">\n                            <div>\n                                <img src={image_I_P} alt=\"Background\" class=\"list_image\" />\n                            </div>\n                        </td>\n                    </tr>\n                );\n            }\n            //T to P\n            else {\n                list_table.push(\n                    <tr class=\"list_table_th\">\n                        <td colspan=\"3\" height=\"20px\">\n                            <div>\n                                <img src={image_T_P} alt=\"Background\" class=\"list_image\" />\n                            </div>\n                        </td>\n                    </tr>\n                );\n            }\n\n            list_table.push(\n                <tr >\n                    <td colspan=\"2\" width=\"60%\" height=\"10px\" align=\"left\">\n                        {this.state.list_patient_record[i][0]}\n                    </td>\n                    <td width=\"40%\" height=\"10px\" align=\"right\">\n                        {this.state.save_patient_number}\n                    </td>\n                </tr>\n            );\n\n            list_table.push(\n                <tr>\n                    <td colspan=\"2\" width=\"60%\" height=\"10px\" align=\"left\">\n                        {this.state.list_patient_record[i][1]}\n                    </td>\n                </tr>\n            );\n\n            list_table.push(\n                <tr class=\"list_table_th\">\n                    <td colspan=\"3\" height=\"10px\">\n                        <strong>\n                            時間：{this.state.list_patient_record[i][2]}\n                        </strong>\n                    </td>\n                </tr>\n            );\n\n            if (this.state.user_name == this.state.list_patient_record[i][0] && this.state.user_job == this.state.list_patient_record[i][1]){\n                list_table.push(\n                    <tr class=\"list_table_th\">\n                        <td colspan=\"3\">\n                            <input class=\"button main_button7-1\" type=\"button\" id={this.state.list_patient_record[i]} value=\"查看\" onClickCapture={this.ClickPatientRecord} />\n                        </td>\n                    </tr>\n                );\n            }\n            else {\n                list_table.push(\n                    <tr class=\"list_table_th\">\n                        <td colspan=\"3\">\n                            <input class=\"button main_button7-2\" type=\"button\" id={this.state.list_patient_record[i]} value=\"查看\" onClickCapture={this.ClickPatientRecord} />\n                        </td>\n                    </tr>\n                );\n            }\n            \n        }\n\n        //匯入機構住民資料\n        for (let i = 0; i < this.state.patient_list.length - 1; i++) {\n            patient.push(\n                <option value={this.state.patient_list[i][0]}>{this.state.patient_list[i][1] + \" \" + this.state.patient_list[i][2]}</option>\n            );\n        }\n\n        if (this.state.save_content_table.length != 0) {\n            //隱藏table\n            if (this.state.table_css_flag == true) {\n                content_table.push(\n                    <table class=\"content_table\" style={content_table_css_display}>\n                        <tr>\n                            <td>\n                                <strong><font size=\"5\"></font></strong>\n                                <br />\n                                <img src={image_patient} alt=\"Background\" class=\"content_image\" />\n                            </td>\n                            <td><font size=\"6\">治療人員</font></td>\n                            <td><font size=\"6\">照護記錄</font></td>\n                        </tr>\n\n                        <tr class=\"content_table_th\">\n                            <td colspan=\"3\"><strong></strong></td>\n                        </tr>\n\n                        <tr>\n                            <td width=\"33%\"></td>\n                            <td width=\"33%\"><font size=\"6\"></font></td>\n                            <td width=\"33%\"><font size=\"6\"></font></td>\n                        </tr>\n                    </table>\n                );\n                content_table.push(<text class=\"table_text\">待選取畫面...</text>);\n            }\n            //不隱藏table\n            else if (this.state.table_css_flag == false) {\n                //無個案資料\n                if (this.state.save_content_table[0].length == 0) {\n                    content_table.push(<text class=\"table_text\">目前該個案暫無您的記錄</text>);\n                }\n                else {\n                    //匯入機構住民區塊內容\n                    content_table.push(\n                        <tr>\n                            <td width=\"25%\">\n                                <strong><font size=\"5\">{this.state.save_patient_number}</font></strong>\n                                <br />\n                                <img src={image_patient} alt=\"Background\" class=\"content_image\" />\n                            </td>\n                            <td width=\"25%\"><font size=\"6\">治療人員</font></td>\n                            <td width=\"25%\"><font size=\"6\">照護記錄</font></td>\n                            <td width=\"25%\"><font size=\"6\">藥物</font></td>\n                        </tr>\n                    );\n\n                    for (let i = 0; i < this.state.save_content_table.length; i++) {\n                        if (this.state.save_content_table[i].length == 0) {\n                            break;\n                        }\n                        content_table.push(\n                            <tr class=\"content_table_th\">\n                                <td colspan=\"4\"><strong>{this.state.save_content_table[i][5]}</strong></td>\n                            </tr>\n                        );\n                        content_table.push(\n                            <tr>\n                                <td></td>\n                                <td><font size=\"6\">{this.state.save_content_table[i][0] + this.state.save_content_table[0][1]}</font></td>\n                                <td><font size=\"6\">{this.state.save_content_table[i][3]}</font></td>\n                                <td><font size=\"6\">{this.state.save_content_table[i][4]}</font></td>\n                            </tr>\n                        );\n                    }\n                }\n            }\n        }\n\n        const node_count = [];\n        //顯示授權節點通知數量\n        if (this.state.promise_node_count > 0) {\n            node_count[0] = <span class=\"number_badge\"> {this.state.promise_node_count} </span>;\n        }\n\n        //抵銷重置後第一秒顯示問題\n        if (this.state.account_request_list.length != 0){\n            for(let i=0;i<this.state.account_request_list[this.state.user_account.split(\"t\")[1]].length;i++){\n                a2.push(\n                    <tr>\n                    <td width=\"33%\">\n                        <font size=\"6\">{this.state.account_request_list_name[i]}</font>\n                    </td>\n                    <td width=\"33%\">\n                        <label class=\"container\">1 Month(30 Day)\n                        <input type=\"radio\" name=\"radio\" id=\"mon_1\" value=\"1\"/>\n                        <span class=\"check\"></span>\n                        </label>\n    \n                        <label class=\"container\">2 Month(60 Day)\n                        <input type=\"radio\" name=\"radio\" id=\"mon_2\" value=\"2\"/>\n                        <span class=\"check\"></span>\n                        </label>\n    \n                        <label class=\"container\">3 Month(90 Day)\n                        <input type=\"radio\" name=\"radio\" id=\"mon_3\" value=\"3\"/>\n                        <span class=\"check\"></span>\n                        </label>\n                    </td>\n                    <td width=\"33%\">\n                        <input class=\"request_button_accept\" type=\"button\" id={\"yes\"} value={\"接受\"} name={this.state.account_request_list[this.state.user_account.split(\"t\")[1]][i]} text={this.state.account_request_list[this.state.user_account.split(\"t\")[1]][i]} onClickCapture={this.promise_request}/>\n                        <br />\n                        <input class=\"request_button_refuse\" type=\"button\" id={\"no\"} value={\"拒絕\"} name={this.state.account_request_list[this.state.user_account.split(\"t\")[1]][i]} onClickCapture={this.promise_request}/>\n                    </td>\n                    </tr>\n                );\n            }\n        }\n\n        return (\n            <div class=\"user_main\">\n                <form class=\"form-box\">\n                    <label>\n                        <table class=\"table-box\">\n                            <tr>\n                                <input class=\"button button1\" type=\"button\" value=\"\" />\n                                <td width=\"86%\" align=\"left\"><input class=\"button main_button5\" type=\"button\" value=\"授權節點\" onClickCapture={this.Request} />{node_count}</td>\n                                {/* <td width=\"86%\" align=\"left\"><strong>{moment().format(\"YYYY/MM/DD\")} {new Date().toLocaleTimeString()}</strong></td> */}\n                                <td width=\"1%\" align=\"right\"><img src={image} alt=\"Background\" class=\"image_user\" /></td>\n                                <td width=\"13%\" align=\"right\">\n                                    <strong>{this.state.user_name + this.state.user_job}</strong> 歡迎登入\n                                    <input class=\"button main_button6\" type=\"button\" value=\"登出\" onClickCapture={this.Logout} />\n                                </td>\n                            </tr>\n                        </table>\n\n                        <div class=\"article\" align=\"center\">\n                            <strong><font size=\"5\">機構住民紀錄狀態列</font></strong>\n                            <br />\n\n                            <input type=\"checkbox\" id=\"cbox\" value=\"\" onChange={this.clickAllPatient} />\n                            <label for=\"cbox\">顯示個案所有紀錄</label>\n\n                            <select name=\"patient\" onChange={this.changeSelect}>\n                                {patient}\n                            </select>\n\n                            <br /><br />\n\n                            <table class=\"list_table\">\n                                {list_table}\n                            </table>\n                        </div>\n\n                        <div align=\"center\">\n                            <br />\n\n                            <table class=\"content_table\" style={content_table_css_nondisplay}>\n                                {content_table}\n                            </table>\n\n                        </div>\n\n                        <Modal\n                            isOpen={this.state.showModal}\n                            className=\"modal\"\n                        >\n                            <strong><font size=\"6\">節點請求授權申請</font></strong>\n          \n                            <table class=\"request_table\" align=\"center\" border=\"2\" rules=\"rows\">\n                                <tr>\n                                <td>節點\n                                </td>\n                                <td>授權天數\n                                </td>\n                                <td>狀態\n                                </td>\n                                </tr>\n\n                                {a2}\n\n                            </table>\n                            <br />\n                            <button class=\"button_main_back\" onClickCapture={this.CloseModal}>返回</button>\n                        </Modal>\n\n                    </label>\n                </form>\n            </div>\n        );\n    }\n}\nexport default In_main;\n","/Users/fota/Documents/dapp-react/client/src/System_Management.js",["298","299","300","301","302","303","304","305","306"],"import React,{ Component } from 'react';\nimport Web3 from 'web3';\nimport { createBrowserHistory } from 'history';\nimport \"./System_Management.css\";\n\nclass System_Management extends Component {\n  constructor(props) {\n      super(props);\n      this.state = { \n          name: \"\",\n          account: \"\",\n          permission: 0,\n          ch: [[],[]],\n          check: [],\n          date: new Date()\n      }\n  }\n\n  componentDidMount() {\n    this.timerID = setInterval(() => this.tick(),10);\n  }\n\n  componentWillMount() {\n    clearInterval(this.timerID);\n      this.load();\n  }\n\n  tick() {\n    fetch('/Get_System', {\n      method: \"POST\",\n      body: JSON.stringify({\n      }),\n      // headers: new Headers({\n      //     'Content-Type': 'application/json',\n      //     // 'Authorization': token, /* 把token放在這 */\n      // })\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      }\n    })\n      .then(res => res.json())\n      .then(res => {\n        this.setState({ch:res.ch});\n        this.setState({check:res.check});\n      })\n      .catch(err => console.log(err))       \n  }\n\n  async load() {\n      var web3 = new Web3();\n      web3.setProvider(new web3.providers.HttpProvider('http://localhost:7545'));\n      \n      fetch('/LoginState', {\n        method: \"POST\",\n        body: JSON.stringify({\n        }),\n        // headers: new Headers({\n        //     'Content-Type': 'application/json',\n        //     // 'Authorization': token, /* 把token放在這 */\n        // })\n        headers: {\n          'Content-Type': 'application/json; charset=utf-8'\n        }\n      })\n        .then(res => res.json())\n        .then(res => {\n            this.setState({name:res.name});\n            this.setState({account:res.account});\n            this.setState({permission:res.permission});\n            \n            if (res == \"\"){\n                const history = createBrowserHistory();\n                history.push(\"/LoginFail\");\n                window.location.reload();\n            }\n        })\n        .catch(err => console.log(err))   \n  }\n\n  check_system=(event)=>{\n    var text = event.target.id.split(\" \");\n\n    fetch('/system_update', {\n      method: \"POST\",\n      body: JSON.stringify({\n        ch1: text[0],\n        update:text[1]\n      }),\n      // headers: new Headers({\n      //     'Content-Type': 'application/json',\n      //     // 'Authorization': token, /* 把token放在這 */\n      // })\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      }\n    })\n      .then(res => res.json())\n      .then(res => {\n        if (res.check == 1){\n          alert(\"已修改為「通過狀態」\");\n        }\n        else if (res.check == 0){\n          alert(\"已修改為「取消狀態」\");\n        }\n        else if (res.check == 3){\n          alert(\"已是「通過狀態」\");\n        }\n        else{\n          alert(\"已是「取消狀態」\");\n        }\n      })\n      .catch(err => console.log(err))      \n  }\n\n  back=()=>{\n    const history = createBrowserHistory();\n\n    if (this.state.permission == 1)\n    {\n      history.push(\"/Dr_main\");\n      window.location.reload();\n    }\n    else if (this.state.permission == 2){\n      history.push(\"/In_main\");\n      window.location.reload();\n    }\n    else if (this.state.permission == 3){\n      history.push(\"/Th_main\");\n      window.location.reload();\n    }\n    else if (this.state.permission == 4){\n      history.push(\"/Co_main\");\n      window.location.reload();\n    }\n    else if (this.state.permission == 0){\n      history.push(\"/management_main\");\n      window.location.reload();\n    }\n  }\n\n  render() {\n    const a1 = [];\n\n    for (let i=0;i<this.state.ch[0].length;i++){\n      a1.push(\n        <tr class=\"system_M_table2-box\">\n          <td width=\"10%\"><strong><font size=\"5\">專責醫師：</font></strong></td>\n          <td><strong><font size=\"5\">{this.state.ch[0][i]}</font></strong></td>\n          <td rowspan=\"2\" align=\"center\"><strong><font size=\"5\">{this.state.check[i]}</font></strong></td>\n          <td rowspan=\"2\" class=\"system_M_table_check\">\n            <button class=\"system_M_yes\" id={this.state.ch[0][i]+\" \"+1} onClickCapture={this.check_system}>接受</button>\n            <button class=\"system_M_no\" id={this.state.ch[0][i]+\" \"+0} onClickCapture={this.check_system}>拒絕</button></td>\n\n        </tr>\n      );\n      a1.push(\n        <tr class=\"system_table2-box\">\n          <td><strong><font size=\"5\">機構：</font></strong></td>\n          <td width=\"500\"><strong><font size=\"5\">{this.state.ch[1][i]}</font></strong></td>\n        </tr>\n  );\n    }\n    \n    return (\n      <div>\n        <table class=\"system_M_table-box\">\n            <tr>\n              <td width=\"5%\"></td>\n              <td width=\"10%\" align=\"center\"><strong><font size=\"6\">申請人</font></strong></td>\n              <td width=\"40%\" align=\"center\"><strong><font size=\"6\">申請進度</font></strong></td>\n              <td width=\"5%\" colspan=\"2\" align=\"center\"><strong><font size=\"6\">修改</font></strong></td>\n            </tr>\n\n            {a1}\n\n        </table>\n\n        <label>\n          <input class=\"button button1\" type=\"button\" value=\"\" /><br />\n          <input class=\"system_Mapply_back\" type=\"button\" value=\"返回\" onClickCapture={this.back} />\n        </label>\n\n      </div>\n    );\n  }\n\n}\n\nexport default System_Management;",{"ruleId":"307","replacedBy":"308"},{"ruleId":"309","replacedBy":"310"},{"ruleId":"311","severity":1,"message":"312","line":2,"column":8,"nodeType":"313","messageId":"314","endLine":2,"endColumn":29},{"ruleId":"311","severity":1,"message":"315","line":2,"column":9,"nodeType":"313","messageId":"314","endLine":2,"endColumn":17},{"ruleId":"311","severity":1,"message":"316","line":2,"column":18,"nodeType":"313","messageId":"314","endLine":2,"endColumn":24},{"ruleId":"311","severity":1,"message":"317","line":2,"column":25,"nodeType":"313","messageId":"314","endLine":2,"endColumn":30},{"ruleId":"311","severity":1,"message":"318","line":3,"column":32,"nodeType":"313","messageId":"314","endLine":3,"endColumn":49},{"ruleId":"319","severity":1,"message":"320","line":84,"column":47,"nodeType":"321","messageId":"322","endLine":84,"endColumn":49},{"ruleId":"319","severity":1,"message":"320","line":89,"column":52,"nodeType":"321","messageId":"322","endLine":89,"endColumn":54},{"ruleId":"319","severity":1,"message":"320","line":94,"column":52,"nodeType":"321","messageId":"322","endLine":94,"endColumn":54},{"ruleId":"319","severity":1,"message":"320","line":98,"column":52,"nodeType":"321","messageId":"322","endLine":98,"endColumn":54},{"ruleId":"319","severity":1,"message":"320","line":102,"column":52,"nodeType":"321","messageId":"322","endLine":102,"endColumn":54},{"ruleId":"319","severity":1,"message":"320","line":106,"column":52,"nodeType":"321","messageId":"322","endLine":106,"endColumn":54},{"ruleId":"311","severity":1,"message":"323","line":2,"column":8,"nodeType":"313","messageId":"314","endLine":2,"endColumn":12},{"ruleId":"311","severity":1,"message":"318","line":3,"column":32,"nodeType":"313","messageId":"314","endLine":3,"endColumn":49},{"ruleId":"319","severity":1,"message":"320","line":73,"column":30,"nodeType":"321","messageId":"322","endLine":73,"endColumn":32},{"ruleId":"319","severity":1,"message":"320","line":79,"column":36,"nodeType":"321","messageId":"322","endLine":79,"endColumn":38},{"ruleId":"319","severity":1,"message":"320","line":83,"column":47,"nodeType":"321","messageId":"322","endLine":83,"endColumn":49},{"ruleId":"319","severity":1,"message":"320","line":88,"column":52,"nodeType":"321","messageId":"322","endLine":88,"endColumn":54},{"ruleId":"319","severity":1,"message":"320","line":92,"column":52,"nodeType":"321","messageId":"322","endLine":92,"endColumn":54},{"ruleId":"319","severity":1,"message":"320","line":96,"column":52,"nodeType":"321","messageId":"322","endLine":96,"endColumn":54},{"ruleId":"319","severity":1,"message":"320","line":135,"column":35,"nodeType":"321","messageId":"322","endLine":135,"endColumn":37},{"ruleId":"319","severity":1,"message":"320","line":140,"column":40,"nodeType":"321","messageId":"322","endLine":140,"endColumn":42},{"ruleId":"319","severity":1,"message":"320","line":144,"column":40,"nodeType":"321","messageId":"322","endLine":144,"endColumn":42},{"ruleId":"319","severity":1,"message":"320","line":148,"column":40,"nodeType":"321","messageId":"322","endLine":148,"endColumn":42},{"ruleId":"319","severity":1,"message":"320","line":170,"column":22,"nodeType":"321","messageId":"322","endLine":170,"endColumn":24},{"ruleId":"319","severity":1,"message":"320","line":228,"column":29,"nodeType":"321","messageId":"322","endLine":228,"endColumn":31},{"ruleId":"319","severity":1,"message":"320","line":286,"column":19,"nodeType":"321","messageId":"322","endLine":286,"endColumn":21},{"ruleId":"319","severity":1,"message":"324","line":305,"column":37,"nodeType":"321","messageId":"322","endLine":305,"endColumn":39},{"ruleId":"319","severity":1,"message":"324","line":305,"column":69,"nodeType":"321","messageId":"322","endLine":305,"endColumn":71},{"ruleId":"319","severity":1,"message":"324","line":724,"column":35,"nodeType":"321","messageId":"322","endLine":724,"endColumn":37},{"ruleId":"319","severity":1,"message":"320","line":737,"column":35,"nodeType":"321","messageId":"322","endLine":737,"endColumn":37},{"ruleId":"319","severity":1,"message":"320","line":742,"column":39,"nodeType":"321","messageId":"322","endLine":742,"endColumn":41},{"ruleId":"319","severity":1,"message":"320","line":747,"column":39,"nodeType":"321","messageId":"322","endLine":747,"endColumn":41},{"ruleId":"319","severity":1,"message":"324","line":756,"column":47,"nodeType":"321","messageId":"322","endLine":756,"endColumn":49},{"ruleId":"319","severity":1,"message":"324","line":766,"column":47,"nodeType":"321","messageId":"322","endLine":766,"endColumn":49},{"ruleId":"311","severity":1,"message":"323","line":2,"column":8,"nodeType":"313","messageId":"314","endLine":2,"endColumn":12},{"ruleId":"319","severity":1,"message":"320","line":39,"column":30,"nodeType":"321","messageId":"322","endLine":39,"endColumn":32},{"ruleId":"319","severity":1,"message":"320","line":58,"column":33,"nodeType":"321","messageId":"322","endLine":58,"endColumn":35},{"ruleId":"319","severity":1,"message":"320","line":74,"column":35,"nodeType":"321","messageId":"322","endLine":74,"endColumn":37},{"ruleId":"319","severity":1,"message":"320","line":79,"column":40,"nodeType":"321","messageId":"322","endLine":79,"endColumn":42},{"ruleId":"319","severity":1,"message":"320","line":83,"column":40,"nodeType":"321","messageId":"322","endLine":83,"endColumn":42},{"ruleId":"319","severity":1,"message":"320","line":87,"column":40,"nodeType":"321","messageId":"322","endLine":87,"endColumn":42},{"ruleId":"319","severity":1,"message":"320","line":67,"column":30,"nodeType":"321","messageId":"322","endLine":67,"endColumn":32},{"ruleId":"319","severity":1,"message":"320","line":200,"column":53,"nodeType":"321","messageId":"322","endLine":200,"endColumn":55},{"ruleId":"319","severity":1,"message":"320","line":201,"column":53,"nodeType":"321","messageId":"322","endLine":201,"endColumn":55},{"ruleId":"319","severity":1,"message":"320","line":202,"column":53,"nodeType":"321","messageId":"322","endLine":202,"endColumn":55},{"ruleId":"319","severity":1,"message":"320","line":203,"column":55,"nodeType":"321","messageId":"322","endLine":203,"endColumn":57},{"ruleId":"319","severity":1,"message":"320","line":204,"column":55,"nodeType":"321","messageId":"322","endLine":204,"endColumn":57},{"ruleId":"319","severity":1,"message":"320","line":205,"column":55,"nodeType":"321","messageId":"322","endLine":205,"endColumn":57},{"ruleId":"319","severity":1,"message":"320","line":241,"column":60,"nodeType":"321","messageId":"322","endLine":241,"endColumn":62},{"ruleId":"319","severity":1,"message":"320","line":284,"column":58,"nodeType":"321","messageId":"322","endLine":284,"endColumn":60},{"ruleId":"319","severity":1,"message":"320","line":285,"column":58,"nodeType":"321","messageId":"322","endLine":285,"endColumn":60},{"ruleId":"319","severity":1,"message":"320","line":286,"column":58,"nodeType":"321","messageId":"322","endLine":286,"endColumn":60},{"ruleId":"319","severity":1,"message":"320","line":287,"column":55,"nodeType":"321","messageId":"322","endLine":287,"endColumn":57},{"ruleId":"319","severity":1,"message":"320","line":288,"column":55,"nodeType":"321","messageId":"322","endLine":288,"endColumn":57},{"ruleId":"319","severity":1,"message":"320","line":289,"column":55,"nodeType":"321","messageId":"322","endLine":289,"endColumn":57},{"ruleId":"319","severity":1,"message":"320","line":325,"column":60,"nodeType":"321","messageId":"322","endLine":325,"endColumn":62},{"ruleId":"319","severity":1,"message":"320","line":368,"column":58,"nodeType":"321","messageId":"322","endLine":368,"endColumn":60},{"ruleId":"319","severity":1,"message":"320","line":368,"column":113,"nodeType":"321","messageId":"322","endLine":368,"endColumn":115},{"ruleId":"325","severity":1,"message":"326","line":495,"column":29,"nodeType":"327","endLine":495,"endColumn":109},{"ruleId":"319","severity":1,"message":"320","line":73,"column":19,"nodeType":"321","messageId":"322","endLine":73,"endColumn":21},{"ruleId":"319","severity":1,"message":"320","line":132,"column":24,"nodeType":"321","messageId":"322","endLine":132,"endColumn":26},{"ruleId":"319","severity":1,"message":"320","line":135,"column":29,"nodeType":"321","messageId":"322","endLine":135,"endColumn":31},{"ruleId":"319","severity":1,"message":"320","line":138,"column":29,"nodeType":"321","messageId":"322","endLine":138,"endColumn":31},{"ruleId":"319","severity":1,"message":"320","line":145,"column":37,"nodeType":"321","messageId":"322","endLine":145,"endColumn":39},{"ruleId":"319","severity":1,"message":"320","line":150,"column":42,"nodeType":"321","messageId":"322","endLine":150,"endColumn":44},{"ruleId":"319","severity":1,"message":"320","line":154,"column":42,"nodeType":"321","messageId":"322","endLine":154,"endColumn":44},{"ruleId":"319","severity":1,"message":"320","line":158,"column":42,"nodeType":"321","messageId":"322","endLine":158,"endColumn":44},{"ruleId":"319","severity":1,"message":"320","line":178,"column":40,"nodeType":"321","messageId":"322","endLine":178,"endColumn":42},{"ruleId":"319","severity":1,"message":"320","line":203,"column":27,"nodeType":"321","messageId":"322","endLine":203,"endColumn":29},{"ruleId":"319","severity":1,"message":"320","line":214,"column":31,"nodeType":"321","messageId":"322","endLine":214,"endColumn":33},{"ruleId":"319","severity":1,"message":"320","line":219,"column":36,"nodeType":"321","messageId":"322","endLine":219,"endColumn":38},{"ruleId":"319","severity":1,"message":"320","line":223,"column":36,"nodeType":"321","messageId":"322","endLine":223,"endColumn":38},{"ruleId":"319","severity":1,"message":"320","line":227,"column":36,"nodeType":"321","messageId":"322","endLine":227,"endColumn":38},{"ruleId":"319","severity":1,"message":"324","line":251,"column":35,"nodeType":"321","messageId":"322","endLine":251,"endColumn":37},{"ruleId":"319","severity":1,"message":"320","line":256,"column":19,"nodeType":"321","messageId":"322","endLine":256,"endColumn":21},{"ruleId":"319","severity":1,"message":"324","line":262,"column":48,"nodeType":"321","messageId":"322","endLine":262,"endColumn":50},{"ruleId":"319","severity":1,"message":"320","line":44,"column":28,"nodeType":"321","messageId":"322","endLine":44,"endColumn":30},{"ruleId":"319","severity":1,"message":"320","line":82,"column":31,"nodeType":"321","messageId":"322","endLine":82,"endColumn":33},{"ruleId":"319","severity":1,"message":"320","line":87,"column":36,"nodeType":"321","messageId":"322","endLine":87,"endColumn":38},{"ruleId":"319","severity":1,"message":"320","line":91,"column":36,"nodeType":"321","messageId":"322","endLine":91,"endColumn":38},{"ruleId":"319","severity":1,"message":"320","line":95,"column":36,"nodeType":"321","messageId":"322","endLine":95,"endColumn":38},{"ruleId":"319","severity":1,"message":"320","line":99,"column":36,"nodeType":"321","messageId":"322","endLine":99,"endColumn":38},{"ruleId":"311","severity":1,"message":"328","line":107,"column":11,"nodeType":"313","messageId":"314","endLine":107,"endColumn":15},{"ruleId":"311","severity":1,"message":"323","line":2,"column":8,"nodeType":"313","messageId":"314","endLine":2,"endColumn":12},{"ruleId":"311","severity":1,"message":"329","line":7,"column":8,"nodeType":"313","messageId":"314","endLine":7,"endColumn":19},{"ruleId":"311","severity":1,"message":"330","line":15,"column":8,"nodeType":"313","messageId":"314","endLine":15,"endColumn":14},{"ruleId":"319","severity":1,"message":"320","line":92,"column":30,"nodeType":"321","messageId":"322","endLine":92,"endColumn":32},{"ruleId":"319","severity":1,"message":"320","line":170,"column":30,"nodeType":"321","messageId":"322","endLine":170,"endColumn":32},{"ruleId":"319","severity":1,"message":"320","line":175,"column":32,"nodeType":"321","messageId":"322","endLine":175,"endColumn":34},{"ruleId":"319","severity":1,"message":"320","line":199,"column":42,"nodeType":"321","messageId":"322","endLine":199,"endColumn":44},{"ruleId":"319","severity":1,"message":"320","line":202,"column":47,"nodeType":"321","messageId":"322","endLine":202,"endColumn":49},{"ruleId":"319","severity":1,"message":"320","line":205,"column":47,"nodeType":"321","messageId":"322","endLine":205,"endColumn":49},{"ruleId":"319","severity":1,"message":"320","line":212,"column":35,"nodeType":"321","messageId":"322","endLine":212,"endColumn":37},{"ruleId":"331","severity":1,"message":"332","line":216,"column":25,"nodeType":"313","messageId":"333","endLine":216,"endColumn":31},{"ruleId":"319","severity":1,"message":"320","line":217,"column":32,"nodeType":"321","messageId":"322","endLine":217,"endColumn":34},{"ruleId":"319","severity":1,"message":"320","line":284,"column":22,"nodeType":"321","messageId":"322","endLine":284,"endColumn":24},{"ruleId":"319","severity":1,"message":"320","line":314,"column":36,"nodeType":"321","messageId":"322","endLine":314,"endColumn":38},{"ruleId":"319","severity":1,"message":"320","line":331,"column":44,"nodeType":"321","messageId":"322","endLine":331,"endColumn":46},{"ruleId":"319","severity":1,"message":"320","line":357,"column":33,"nodeType":"321","messageId":"322","endLine":357,"endColumn":35},{"ruleId":"319","severity":1,"message":"320","line":386,"column":54,"nodeType":"321","messageId":"322","endLine":386,"endColumn":56},{"ruleId":"319","severity":1,"message":"320","line":398,"column":59,"nodeType":"321","messageId":"322","endLine":398,"endColumn":61},{"ruleId":"319","severity":1,"message":"320","line":451,"column":38,"nodeType":"321","messageId":"322","endLine":451,"endColumn":40},{"ruleId":"319","severity":1,"message":"320","line":451,"column":101,"nodeType":"321","messageId":"322","endLine":451,"endColumn":103},{"ruleId":"319","severity":1,"message":"324","line":479,"column":50,"nodeType":"321","messageId":"322","endLine":479,"endColumn":52},{"ruleId":"319","severity":1,"message":"320","line":481,"column":43,"nodeType":"321","messageId":"322","endLine":481,"endColumn":45},{"ruleId":"319","severity":1,"message":"320","line":508,"column":48,"nodeType":"321","messageId":"322","endLine":508,"endColumn":50},{"ruleId":"319","severity":1,"message":"320","line":510,"column":61,"nodeType":"321","messageId":"322","endLine":510,"endColumn":63},{"ruleId":"319","severity":1,"message":"320","line":529,"column":69,"nodeType":"321","messageId":"322","endLine":529,"endColumn":71},{"ruleId":"319","severity":1,"message":"324","line":557,"column":52,"nodeType":"321","messageId":"322","endLine":557,"endColumn":54},{"ruleId":"311","severity":1,"message":"323","line":2,"column":8,"nodeType":"313","messageId":"314","endLine":2,"endColumn":12},{"ruleId":"311","severity":1,"message":"329","line":7,"column":8,"nodeType":"313","messageId":"314","endLine":7,"endColumn":19},{"ruleId":"311","severity":1,"message":"330","line":15,"column":8,"nodeType":"313","messageId":"314","endLine":15,"endColumn":14},{"ruleId":"319","severity":1,"message":"320","line":92,"column":30,"nodeType":"321","messageId":"322","endLine":92,"endColumn":32},{"ruleId":"319","severity":1,"message":"320","line":170,"column":30,"nodeType":"321","messageId":"322","endLine":170,"endColumn":32},{"ruleId":"319","severity":1,"message":"320","line":175,"column":32,"nodeType":"321","messageId":"322","endLine":175,"endColumn":34},{"ruleId":"319","severity":1,"message":"320","line":199,"column":42,"nodeType":"321","messageId":"322","endLine":199,"endColumn":44},{"ruleId":"319","severity":1,"message":"320","line":202,"column":47,"nodeType":"321","messageId":"322","endLine":202,"endColumn":49},{"ruleId":"319","severity":1,"message":"320","line":205,"column":47,"nodeType":"321","messageId":"322","endLine":205,"endColumn":49},{"ruleId":"319","severity":1,"message":"320","line":212,"column":35,"nodeType":"321","messageId":"322","endLine":212,"endColumn":37},{"ruleId":"331","severity":1,"message":"332","line":216,"column":25,"nodeType":"313","messageId":"333","endLine":216,"endColumn":31},{"ruleId":"319","severity":1,"message":"320","line":217,"column":32,"nodeType":"321","messageId":"322","endLine":217,"endColumn":34},{"ruleId":"319","severity":1,"message":"320","line":284,"column":22,"nodeType":"321","messageId":"322","endLine":284,"endColumn":24},{"ruleId":"319","severity":1,"message":"320","line":314,"column":36,"nodeType":"321","messageId":"322","endLine":314,"endColumn":38},{"ruleId":"319","severity":1,"message":"320","line":331,"column":44,"nodeType":"321","messageId":"322","endLine":331,"endColumn":46},{"ruleId":"319","severity":1,"message":"320","line":357,"column":33,"nodeType":"321","messageId":"322","endLine":357,"endColumn":35},{"ruleId":"319","severity":1,"message":"320","line":386,"column":54,"nodeType":"321","messageId":"322","endLine":386,"endColumn":56},{"ruleId":"319","severity":1,"message":"320","line":398,"column":59,"nodeType":"321","messageId":"322","endLine":398,"endColumn":61},{"ruleId":"319","severity":1,"message":"320","line":451,"column":38,"nodeType":"321","messageId":"322","endLine":451,"endColumn":40},{"ruleId":"319","severity":1,"message":"320","line":451,"column":101,"nodeType":"321","messageId":"322","endLine":451,"endColumn":103},{"ruleId":"319","severity":1,"message":"324","line":479,"column":50,"nodeType":"321","messageId":"322","endLine":479,"endColumn":52},{"ruleId":"319","severity":1,"message":"320","line":481,"column":43,"nodeType":"321","messageId":"322","endLine":481,"endColumn":45},{"ruleId":"319","severity":1,"message":"320","line":508,"column":48,"nodeType":"321","messageId":"322","endLine":508,"endColumn":50},{"ruleId":"319","severity":1,"message":"320","line":510,"column":61,"nodeType":"321","messageId":"322","endLine":510,"endColumn":63},{"ruleId":"319","severity":1,"message":"320","line":529,"column":69,"nodeType":"321","messageId":"322","endLine":529,"endColumn":71},{"ruleId":"319","severity":1,"message":"324","line":557,"column":52,"nodeType":"321","messageId":"322","endLine":557,"endColumn":54},{"ruleId":"311","severity":1,"message":"323","line":2,"column":8,"nodeType":"313","messageId":"314","endLine":2,"endColumn":12},{"ruleId":"319","severity":1,"message":"320","line":68,"column":30,"nodeType":"321","messageId":"322","endLine":68,"endColumn":32},{"ruleId":"319","severity":1,"message":"320","line":151,"column":53,"nodeType":"321","messageId":"322","endLine":151,"endColumn":55},{"ruleId":"319","severity":1,"message":"320","line":152,"column":53,"nodeType":"321","messageId":"322","endLine":152,"endColumn":55},{"ruleId":"319","severity":1,"message":"320","line":153,"column":53,"nodeType":"321","messageId":"322","endLine":153,"endColumn":55},{"ruleId":"319","severity":1,"message":"320","line":154,"column":55,"nodeType":"321","messageId":"322","endLine":154,"endColumn":57},{"ruleId":"319","severity":1,"message":"320","line":155,"column":55,"nodeType":"321","messageId":"322","endLine":155,"endColumn":57},{"ruleId":"319","severity":1,"message":"320","line":156,"column":55,"nodeType":"321","messageId":"322","endLine":156,"endColumn":57},{"ruleId":"319","severity":1,"message":"320","line":197,"column":60,"nodeType":"321","messageId":"322","endLine":197,"endColumn":62},{"ruleId":"319","severity":1,"message":"320","line":240,"column":58,"nodeType":"321","messageId":"322","endLine":240,"endColumn":60},{"ruleId":"319","severity":1,"message":"320","line":241,"column":58,"nodeType":"321","messageId":"322","endLine":241,"endColumn":60},{"ruleId":"319","severity":1,"message":"320","line":242,"column":58,"nodeType":"321","messageId":"322","endLine":242,"endColumn":60},{"ruleId":"319","severity":1,"message":"320","line":243,"column":55,"nodeType":"321","messageId":"322","endLine":243,"endColumn":57},{"ruleId":"319","severity":1,"message":"320","line":244,"column":55,"nodeType":"321","messageId":"322","endLine":244,"endColumn":57},{"ruleId":"319","severity":1,"message":"320","line":245,"column":55,"nodeType":"321","messageId":"322","endLine":245,"endColumn":57},{"ruleId":"319","severity":1,"message":"320","line":286,"column":60,"nodeType":"321","messageId":"322","endLine":286,"endColumn":62},{"ruleId":"319","severity":1,"message":"320","line":329,"column":58,"nodeType":"321","messageId":"322","endLine":329,"endColumn":60},{"ruleId":"319","severity":1,"message":"320","line":329,"column":113,"nodeType":"321","messageId":"322","endLine":329,"endColumn":115},{"ruleId":"311","severity":1,"message":"323","line":2,"column":8,"nodeType":"313","messageId":"314","endLine":2,"endColumn":12},{"ruleId":"319","severity":1,"message":"320","line":46,"column":19,"nodeType":"321","messageId":"322","endLine":46,"endColumn":21},{"ruleId":"319","severity":1,"message":"320","line":76,"column":24,"nodeType":"321","messageId":"322","endLine":76,"endColumn":26},{"ruleId":"319","severity":1,"message":"320","line":83,"column":24,"nodeType":"321","messageId":"322","endLine":83,"endColumn":26},{"ruleId":"319","severity":1,"message":"320","line":83,"column":48,"nodeType":"321","messageId":"322","endLine":83,"endColumn":50},{"ruleId":"319","severity":1,"message":"324","line":145,"column":45,"nodeType":"321","messageId":"322","endLine":145,"endColumn":47},{"ruleId":"319","severity":1,"message":"320","line":154,"column":31,"nodeType":"321","messageId":"322","endLine":154,"endColumn":33},{"ruleId":"319","severity":1,"message":"320","line":44,"column":23,"nodeType":"321","messageId":"322","endLine":44,"endColumn":25},{"ruleId":"319","severity":1,"message":"320","line":77,"column":31,"nodeType":"321","messageId":"322","endLine":77,"endColumn":33},{"ruleId":"319","severity":1,"message":"320","line":82,"column":36,"nodeType":"321","messageId":"322","endLine":82,"endColumn":38},{"ruleId":"319","severity":1,"message":"320","line":86,"column":36,"nodeType":"321","messageId":"322","endLine":86,"endColumn":38},{"ruleId":"319","severity":1,"message":"320","line":90,"column":36,"nodeType":"321","messageId":"322","endLine":90,"endColumn":38},{"ruleId":"319","severity":1,"message":"320","line":94,"column":36,"nodeType":"321","messageId":"322","endLine":94,"endColumn":38},{"ruleId":"311","severity":1,"message":"334","line":2,"column":8,"nodeType":"313","messageId":"314","endLine":2,"endColumn":15},{"ruleId":"311","severity":1,"message":"335","line":24,"column":9,"nodeType":"313","messageId":"314","endLine":24,"endColumn":15},{"ruleId":"311","severity":1,"message":"323","line":2,"column":8,"nodeType":"313","messageId":"314","endLine":2,"endColumn":12},{"ruleId":"311","severity":1,"message":"329","line":7,"column":8,"nodeType":"313","messageId":"314","endLine":7,"endColumn":19},{"ruleId":"311","severity":1,"message":"330","line":15,"column":8,"nodeType":"313","messageId":"314","endLine":15,"endColumn":14},{"ruleId":"319","severity":1,"message":"320","line":92,"column":30,"nodeType":"321","messageId":"322","endLine":92,"endColumn":32},{"ruleId":"319","severity":1,"message":"320","line":170,"column":30,"nodeType":"321","messageId":"322","endLine":170,"endColumn":32},{"ruleId":"319","severity":1,"message":"320","line":175,"column":32,"nodeType":"321","messageId":"322","endLine":175,"endColumn":34},{"ruleId":"319","severity":1,"message":"320","line":199,"column":42,"nodeType":"321","messageId":"322","endLine":199,"endColumn":44},{"ruleId":"319","severity":1,"message":"320","line":202,"column":47,"nodeType":"321","messageId":"322","endLine":202,"endColumn":49},{"ruleId":"319","severity":1,"message":"320","line":205,"column":47,"nodeType":"321","messageId":"322","endLine":205,"endColumn":49},{"ruleId":"319","severity":1,"message":"320","line":212,"column":35,"nodeType":"321","messageId":"322","endLine":212,"endColumn":37},{"ruleId":"331","severity":1,"message":"332","line":216,"column":25,"nodeType":"313","messageId":"333","endLine":216,"endColumn":31},{"ruleId":"319","severity":1,"message":"320","line":217,"column":32,"nodeType":"321","messageId":"322","endLine":217,"endColumn":34},{"ruleId":"319","severity":1,"message":"320","line":284,"column":22,"nodeType":"321","messageId":"322","endLine":284,"endColumn":24},{"ruleId":"319","severity":1,"message":"320","line":314,"column":36,"nodeType":"321","messageId":"322","endLine":314,"endColumn":38},{"ruleId":"319","severity":1,"message":"320","line":331,"column":44,"nodeType":"321","messageId":"322","endLine":331,"endColumn":46},{"ruleId":"319","severity":1,"message":"320","line":357,"column":33,"nodeType":"321","messageId":"322","endLine":357,"endColumn":35},{"ruleId":"319","severity":1,"message":"320","line":386,"column":54,"nodeType":"321","messageId":"322","endLine":386,"endColumn":56},{"ruleId":"319","severity":1,"message":"320","line":398,"column":59,"nodeType":"321","messageId":"322","endLine":398,"endColumn":61},{"ruleId":"319","severity":1,"message":"320","line":451,"column":38,"nodeType":"321","messageId":"322","endLine":451,"endColumn":40},{"ruleId":"319","severity":1,"message":"320","line":451,"column":101,"nodeType":"321","messageId":"322","endLine":451,"endColumn":103},{"ruleId":"319","severity":1,"message":"324","line":479,"column":50,"nodeType":"321","messageId":"322","endLine":479,"endColumn":52},{"ruleId":"319","severity":1,"message":"320","line":481,"column":43,"nodeType":"321","messageId":"322","endLine":481,"endColumn":45},{"ruleId":"319","severity":1,"message":"320","line":508,"column":48,"nodeType":"321","messageId":"322","endLine":508,"endColumn":50},{"ruleId":"319","severity":1,"message":"320","line":510,"column":61,"nodeType":"321","messageId":"322","endLine":510,"endColumn":63},{"ruleId":"319","severity":1,"message":"320","line":529,"column":69,"nodeType":"321","messageId":"322","endLine":529,"endColumn":71},{"ruleId":"319","severity":1,"message":"324","line":557,"column":52,"nodeType":"321","messageId":"322","endLine":557,"endColumn":54},{"ruleId":"319","severity":1,"message":"320","line":71,"column":21,"nodeType":"321","messageId":"322","endLine":71,"endColumn":23},{"ruleId":"319","severity":1,"message":"320","line":99,"column":23,"nodeType":"321","messageId":"322","endLine":99,"endColumn":25},{"ruleId":"319","severity":1,"message":"320","line":102,"column":28,"nodeType":"321","messageId":"322","endLine":102,"endColumn":30},{"ruleId":"319","severity":1,"message":"320","line":105,"column":28,"nodeType":"321","messageId":"322","endLine":105,"endColumn":30},{"ruleId":"319","severity":1,"message":"320","line":118,"column":31,"nodeType":"321","messageId":"322","endLine":118,"endColumn":33},{"ruleId":"319","severity":1,"message":"320","line":123,"column":36,"nodeType":"321","messageId":"322","endLine":123,"endColumn":38},{"ruleId":"319","severity":1,"message":"320","line":127,"column":36,"nodeType":"321","messageId":"322","endLine":127,"endColumn":38},{"ruleId":"319","severity":1,"message":"320","line":131,"column":36,"nodeType":"321","messageId":"322","endLine":131,"endColumn":38},{"ruleId":"319","severity":1,"message":"320","line":135,"column":36,"nodeType":"321","messageId":"322","endLine":135,"endColumn":38},"no-native-reassign",["336"],"no-negated-in-lhs",["337"],"no-unused-vars","'SimpleStorageContract' is defined but never used.","Identifier","unusedVar","'Redirect' is defined but never used.","'Router' is defined but never used.","'Route' is defined but never used.","'createHashHistory' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'Web3' is defined but never used.","Expected '!==' and instead saw '!='.","jsx-a11y/no-distracting-elements","Do not use <marquee> elements as they can create visual accessibility issues and are deprecated.","JSXOpeningElement","'text' is assigned a value but never used.","'image_arrow' is defined but never used.","'moment' is defined but never used.","no-redeclare","'yse_no' is already defined.","redeclared","'getWeb3' is defined but never used.","'random' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]